<div class="wrapper wrapper-content">
    <div class="panel panel-success">
        <div class="panel-heading">
            <h5 class="panel-title"> LOG FACTURACION ELECTRONICA </h5>
        </div>
        <div class="wrapper wrapper-content">
            <form #formularioBusqueda="ngForm" (ngSubmit)="consultarCabecera();">
                <div class="form-group col-lg-12 no-padding">
                    <label class="col-lg-2 control-label" for="fecha">Fecha proceso:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Fecha" id="fecha" name="fecha" [(ngModel)]="fechaProceso"  class="form-control"
                        #mes="ngModel" />
                    </div>
                </div>
                <div class="col-lg-12 text-center">
                    <button class="btn btn-w-m btn-success btn-sm" type="submit" [disabled]="!formularioBusqueda.form.valid">
                        <i class="fa fa-search"></i> Buscar
                    </button>
                    <a (click)="limpiar()" class="btn btn-w-m btn-success btn-sm"><i class="fa fa-eraser"></i> Limpiar </a>
                    <a (click)="setearComponenteActivo('nuevo')" class="btn btn-w-m btn-success btn-sm"><i class="fa fa-plus"></i> Nuevo </a>
                </div>
            </form>
            <div id="divResultadoBusquedaListas" class="ibox-content m-t-lg" style="border-width:1px 0px 0px 0px;">
                <div class="dataTables_info"> <h3> Cabeceras Log Errores Facturacion </h3> </div>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover dataTable">
                        <thead>
                            <tr>
                                <th class="centerMiddle"> Numero Proceso </th>
                                <th class="centerMiddle"> Fecha Proceso </th>
                                <th class="centerMiddle"> Hora Inicio Proceso </th>
                                <th class="centerMiddle"> Hora FinProceso </th>
                                <th class="centerMiddle"> Total Errores </th>
                                <th class="centerMiddle"> Total Leidos </th>
                                <th class="centerMiddle"> Total NoProcesados </th>
                                <th class="centerMiddle"> Total Procesados </th>
                                <th class="centerMiddle"> Usuario SigmepProceso </th>
                            </tr>
                        </thead>
                        <tbody (click)="!i.Selected ? seleccionarCabecera(i, true) : return;" class="no-borders selectableBodyTable" 
                            *ngFor="let i of cabeceras">
                            <tr [class.active]="i.Selected" class="centerMiddle ">
                                <td>{{ i.NumeroProceso }}</td>
                                <td>{{ i.FechaInicioProceso }}</td>
                                <td>{{ i.HoraInicioProceso }}</td>
                                <td>{{ i.HoraFinProceso}} </td>
                                <td>{{ i.TotalErrores }} </td>
                                <td>{{ i.TotalLeidos }} </td>
                                <td>{{ i.TotalNoProcesados }} </td>
                                <td>{{ i.TotalProcesados }} </td>
                                <td>{{ i.UsuarioSigmepProceso }} </td>
                            </tr>
                        </tbody>
                        <tfoot *ngIf="cabeceras.length == 0">
                            <tr>
                                <td colspan="14" style="text-align: center;">No existen resultados</td>
                            </tr>
                        </tfoot> 
                    </table>
                </div>
            </div>

            <div class="panel-body panelDatos">
                <div id="divErrores">
                    <div class="dataTables_info"> <h3> Detalle Errores </h3> </div>
                    <div class="table-responsive">
                        <ng2-smart-table [settings]="tableSettings" [source]="detalleErrores"></ng2-smart-table>
                    </div>
                </div>
            </div>
        </div>      
    </div> 
</div>