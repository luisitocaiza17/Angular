<div class="row no-padding">
    <div class="col-md-12 m-t-sm">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5 class="panel-title">Información General</h5>
            </div>
            <div class="col-md-12 alignCenter">
                <label class="col-md-12 no-padding m-t-sm" style="color: #ff0000">{{msgEstadoContato}}</label>
            </div>
            <div class="panel-body panelDatos">
                <div class="col-md-12 no-padding">
                    <fieldset class="m-b-sm">
                        <legend class="info">Generales</legend>
                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Titular:</label>
                            <span class="col-md-9 col-xs-7">{{resumen.NombreTitular}}</span>
                        </div>
                        <div class="col-md-12col-xs-12" *ngIf="resumen.Oda!= undefined && resumen.Oda.PorBeneficiario!=undefined && !resumen.Oda.PorBeneficiario">
                            <label class="col-md-3 col-xs-5">Odas Consumidas:</label>
                            <span class="col-md-9 col-xs-7">{{resumen.Oda.OdasDisponibles==0?'No contiene Odas': resumen.Oda.OdasConsumidas+' de '+resumen.Oda.OdasDisponibles}}</span>
                        </div>
                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Estado del Contrato:</label>
                            <span class="col-md-3 col-xs-7" [ngClass]="{'textColorAnulado' : resumen.EstadoContrato == 'Anulado'}" >{{resumen.EstadoContrato}}</span>

                            <label class="col-md-3 col-xs-5">Antiguedad:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.Antiguedad}}</span>

                        </div>
                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Transicion:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.Transicion?'SI':'NO'}}</span>

                            <label class="col-md-3 col-xs-5">Región:</label>
                            <span class="col-md-3 col-xs-7">{{contratoKey.CodigoRegion}}</span>
                        </div>

                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Producto:</label>
                            <span class="col-md-3 col-xs-7">{{contratoKey.CodigoProducto}}</span>

                            <label class="col-md-3 col-xs-5">Código Plan:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.CodigoPlan}}</span>
                        </div>

                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Versión Plan:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.VersionPlan}}</span>

                            <label class="col-md-3 col-xs-5">Sala:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.Sala}}</span>
                        </div>

                        <div class="col-md-12 col-xs-12">
                            <label class="col-md-3 col-xs-5">Nombre Plan:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.NombrePlan}}</span>

                            <label class="col-md-3 col-xs-5">Empresa:</label>
                            <span class="col-md-3 col-xs-7">{{resumen.Empresa}}</span>
                        </div>

                        
                        <label *ngIf="resumen.CarenciasAmbulatorias != null && resumen.CarenciasAmbulatorias != ''" class="col-md-3 col-xs-5 clearInfo linkText"><label style="color: red;">*</label>Carencias Ambulatorias:</label>
                        <p *ngIf="resumen.CarenciasAmbulatorias != null && resumen.CarenciasAmbulatorias != '' " class="no-padding col-md-9 col-xs-7 no-padding no-margin">{{resumen.CarenciasAmbulatorias }}</p>

                        <label *ngIf="resumen.CarenciasHospitalarias != null && resumen.CarenciasHospitalarias != ''" class="col-md-3 col-xs-5 clearInfo linkText"><label style="color: red;">*</label>Carencias Hospitalarias:</label>
                        <p *ngIf="resumen.CarenciasHospitalarias != null && resumen.CarenciasHospitalarias != '' " class="no-padding col-md-9 col-xs-7 no-padding no-margin">{{resumen.CarenciasHospitalarias }}</p>


                    </fieldset>
                </div>
                <div class="col-md-12 no-padding clearInfo">
                    <fieldset class="m-b-sm">
                        <legend class="m-b-sm info">Siniestralidad</legend>
                        <label class="col-md-3 col-xs-5">% Siniestralidad Período Vigente:</label>
                        <span class="col-md-3 col-xs-7">{{resumen.SiniestralidadPeriodoVigente | number : '1.2-2'}}%</span>
                        <label class="col-md-3 col-xs-5">% Siniestralidad Período Acumulado:</label>
                        <span class="col-md-3 col-xs-7">{{resumen.SiniestralidadPeriodoAcumulado | number : '1.2-2'}}%</span>
                        <label class="col-md-3 col-xs-5 clearInfo">Total Facturado Acumulado:</label>
                        <span class="col-md-3 col-xs-7">&#36;{{resumen.TotalFacturadoAcumulado | number : '1.2-2'}}</span>
                        <label class="col-md-3 col-xs-5">Total Bonificado Acumulado:</label>
                        <span class="col-md-3 col-xs-7">&#36;{{resumen.TotalBonificadoAcumulado | number : '1.2-2'}}</span>
                    </fieldset>
                </div>
                <div class="col-md-6" style="padding-right: 10px !important;">
                    <fieldset class="m-b-sm ">
                        <legend class="info">Cuenta de D&eacute;bito</legend>
                        <label class="col-md-6 col-xs-5">N&uacute;mero Cuenta:</label>
                        <span class="col-md-6 col-xs-7">{{resumen.NumeroCuentaDebito}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Tipo Cuenta:</label>
                        <span class="col-md-6 col-xs-7">{{resumen.TipoCuentaDebito}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Banco:</label>
                        <span class="col-md-6 col-xs-7">{{resumen.BancoCuentaDebito}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Nombre Due&ntilde;o Cuenta:</label>
                        <span class="col-md-6 col-xs-7">{{resumen.NombreDuenoCuenta}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Fecha Fin Tarjeta:</label>
                        <span class="col-md-6 col-xs-7">{{resumen.FechaFinTarjeta}}</span>
                    </fieldset>
                </div>
                <div class="col-md-6">
                    <fieldset class="m-b-sm">
                        <legend class="info">Cuenta de Crédito</legend>
                        <label class="col-md-6 col-xs-5">Número Cuenta</label>
                        <span class="col-md-6 col-xs-7">{{resumen.NumeroCuentaCredito}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Tipo Cuenta</label>
                        <span class="col-md-6 col-xs-7">{{resumen.TipoCuentaCredito}}</span>
                        <label class="col-md-6 col-xs-5 clearInfo">Banco</label>
                        <span class="col-md-6 col-xs-7">{{resumen.BancoCuentaCredito}}</span>
                    </fieldset>
                </div>
                <div class="col-md-12 no-padding clearInfo" *ngIf="resumen.MontoMora != 0 ">
                    <legend class="info">Otros</legend>

                    <label *ngIf="resumen.MontoMora != 0" class="col-md-3 col-xs-5">Monto Mora:</label>
                    <p *ngIf="resumen.MontoMora != 0" class="col-md-3 col-xs-7 no-padding no-margin" style="color: red;">&#36;{{resumen.MontoMora | number : '1.2-2'}}</p>


                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12  m-t-sm">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5 class="panel-title">Movimientos</h5>
            </div>
            <div class="panel-body panelDatos">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover dataTable">
                        <thead>
                            <tr>
                                <th class="centerMiddle col-md-5">Transacción</th>
                                <th class="centerMiddle col-md-3">Digitador</th>
                                <th class="centerMiddle col-md-2">Fecha Movimiento</th>
                                <th class="centerMiddle col-md-2">Fecha Efecto</th>
                            </tr>
                        </thead>
                        <tbody class="no-borders ">
                            <tr *ngFor="let movimiento of resumen.Movimientos ">
                                <td title="{{movimiento.Transaccion}}">
                                    <p style="margin:0">{{movimiento.Transaccion}}</p>
                                </td>
                                <td>{{(movimiento.Digitador== null || movimiento.Digitador.length ==0)?'NA':movimiento.Digitador}}</td>
                                <td class="centerMiddle">{{movimiento.FechaMovimiento}}</td>
                                <td class="centerMiddle">{{movimiento.FechaEfecto}}</td>
                            </tr>
                        </tbody>
                        <tfoot *ngIf="resumen.Movimientos == undefined || resumen.Movimientos.length  == 0">
                            <tr>
                                <td colspan="15" class="centerMiddle">No existen resultados</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="consultaVendedor == false" class="col-md-6 m-t-sm">
        <ul class="nav nav-tabs nestedTabs" role="tablist">
            <li class="nav-item active nestedTab">
                <a id="topDiagnosticosTab" class="nav-link active" data-toggle="tab" href="#topDiagnosticos" role="tab">Top Diagnósticos</a>
            </li>
            <li class="nav-item nestedTab">
                <a id="topPrestadoresTab" class="nav-link" data-toggle="tab" href="#topPrestadores" role="tab">Top Prestadores</a>
            </li>
        </ul>
        <div class="tab-content nestedTabs">
            <div class="tab-pane active" id="topDiagnosticos" role="tabpanel">
                <div class="panel panel-success">
                    <div class="panel-body panelDatos">
                        <div class="col-md-12 no-padding">
                            <div *ngIf="!showGraphicTopDiagnosticos" style="height: 223px;" class="displayFlex centerMiddle">
                                <p style="width: 100%" class="alignMiddleFlex">No existen resultados</p>
                            </div>
                            <div *ngIf="showGraphicTopDiagnosticos" class="flot-chart-content" id="flot-bar-chart" style="padding: 0px; position: relative;">
                                <canvas baseChart class="flot-base" [datasets]="barChartDiagnosticoData" [labels]="barChartDiagnosticoLabels" [options]="barChartDiagnosticoOptions"
                                    [legend]="barChartDiagnosticoLegend" [chartType]="barChartDiagnosticoType" [colors]="barChartDiagnosticoColors">
                                </canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="topPrestadores" role="tabpanel">
                <div class="panel panel-success">
                    <div class="panel-body panelDatos">
                        <div class="col-md-12 no-padding">
                            <div *ngIf="!showGraphicTopPrestadores" style="height: 223px;" class="displayFlex centerMiddle">
                                <p style="width: 100%" class="alignMiddleFlex">No existen resultados</p>
                            </div>
                            <div *ngIf="showGraphicTopPrestadores" class="flot-chart-content" id="flot-bar-chart" style="padding: 0px; position: relative;">
                                <canvas baseChart class="flot-base" [datasets]="barChartPrestadoresData" [labels]="barChartPrestadoresLabels" [options]="barChartPrestadoresOptions"
                                    [legend]="barChartPrestadoresLegend" [chartType]="barChartPrestadoresType" [colors]="barChartPrestadoresColors">
                                </canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="consultaVendedor == false" class="col-md-6 m-t-sm">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5 class="panel-title">Evolución de Precios</h5>
            </div>
            <div class="panel-body panelDatos">
                <div class="">
                    <div *ngIf="!showGraphicEvolucionPrecios" style="height: 223px;" class="displayFlex centerMiddle">
                        <p style="width: 100%" class="alignMiddleFlex">No existen resultados</p>
                    </div>
                    <div *ngIf="showGraphicEvolucionPrecios" class="flot-chart-content" id="flot-bar-chartPrecios" style="padding: 0px; position: relative;">
                        <canvas class="flot-base" baseChart [datasets]="lineChartDataPrecios" [options]="lineChartOptionsPrecios" [legend]="lineChartLegendPrecios"
                            [chartType]="lineChartTypePrecios" [colors]="lineColors">
                        </canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>