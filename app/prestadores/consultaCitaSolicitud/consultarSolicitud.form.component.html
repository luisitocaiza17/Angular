<div class="col-xs-12 no-padding m-t-xs m-b-sm">
    <div class="panel panel-success">
        <div class="panel-heading">
            <h5 class="panel-title">Consultar Solicitudes de Médicos Destacados</h5>
        </div>
        <div class="panel-body">
            <form #consultaPrestadoresVeris="ngForm">

                <!--

                <fieldset class="col-lg-12">
                    <label class="col-lg-2 control-label">Fecha:</label>
                    <div class="m-b col-lg-4">
                        <datetime class="heigth25 col-lg-12" [datepicker]="false" id="hora" name="hora" [(ngModel)]="hora" [timepicker]="hourOpts"></datetime>
                    </div>

                    <label class="col-lg-2 control-label">Fecha:</label>
                    <div class="m-b col-lg-4">
                        <datetime [datepicker]="false" id="hora" name="hora" [(ngModel)]="hora" [timepicker]="{ showMeridian: false, minuteStep: 1, icon: 'fa fa-clock-o', up: 'glyphicon fa-chevron-up !important', down: 'glyphicon fa-chevron-down' }"></datetime>
                    </div>
                </fieldset>

-->
                <fieldset class="col-lg-12">
                    <legend class="info">Filtros de Búsqueda</legend>



                    <label class="col-lg-2 control-label" for="Estado">Estado:</label>
                    <div class="m-b col-lg-4">
                        <select class="form-select-control m-b" id="slcEstado" name="slcEstado" [(ngModel)]="filter.estadoSolicitud" #slcEstado="ngModel">
                            <option [ngValue]="undefined" selected>Seleccione...</option>
                            <option [ngValue]="0" selected>Todos</option>
                            <option *ngFor="let est of estados" [ngValue]="est.Descripcion">{{est.Nombre}}</option>
                        </select>
                    </div>

                    <div class="m-b col-lg-2">
                        <label class="control-label no-padding-left">Especialidad:</label>
                    </div>
                    <div class="m-b col-lg-4">
                        <select class="form-select-control" id="slcEspecialidad" name="slcEspecialidad" [(ngModel)]="filter.codigoEspecialidad" #slcEspecialidad="ngModel">
                            <option [ngValue]="undefined" selected>Seleccione...</option>
                            <option *ngFor="let e of especialidades" [ngValue]="e.codigoEspecialidad">{{e.nombreEspecialidad}}</option>
                        </select>
                    </div>
                </fieldset>

                <fieldset class="col-lg-12">
                    <label class="col-lg-2 control-label" for="accion">Número Contrato:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Número de Contrato" [(ngModel)]="filter.numeroContrato" id="numeroContrato" name="numeroContrato"
                            class="heigth25 form-control col-lg-12" />
                    </div>

                    <label class="col-lg-2 control-label" for="accion">Código Contrato:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Código de Contrato" [(ngModel)]="filter.codigoContrato" id="codigoContrato" name="codigoContrato"
                            class="heigth25 form-control col-lg-12" />
                    </div>
                </fieldset>

                <fieldset class="col-lg-12">
                    <label class="col-lg-2 control-label" for="accion">Número Paciente:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Número del Paciente" [(ngModel)]="filter.numeroPersonaPaciente" id="numeroPersonaPaciente"
                            name="numeroPersonaPaciente" class="heigth25 form-control col-lg-12" />
                    </div>

                    <label class="col-lg-2 control-label" for="accion">Número Titular:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Número del Titular" [(ngModel)]="filter.numeroTitularContrato" id="numeroTitularContrato"
                            name="numeroTitularContrato" class="heigth25 form-control col-lg-12" />
                    </div>
                </fieldset>

                <fieldset class="col-lg-12">
                    <label class="col-lg-2 control-label" for="accion">Tipo Documento:</label>
                    <div class="m-b col-lg-4">
                        <select class="form-select-control" id="slcTipoDocumento" name="slcTipoDocumento" [(ngModel)]="tipoDocumento" #slcTipoDocumento="ngModel">
                            <option [value]="undefined" selected>Seleccione...</option>
                            <option [value]="1">Cédula</option>
                            <option [value]="2">Pasaporte</option>
                        </select>
                    </div>

                    <label class="col-lg-2 control-label" for="accion">Número Documento:</label>
                    <div class="col-lg-4">
                        <input type="text" placeholder="Número del Documento" [(ngModel)]="filter.numeroDocumento" id="numeroDocumento" name="numeroDocumento"
                            class="heigth25 form-control col-lg-12" />
                    </div>
                </fieldset>

                <fieldset class="col-lg-12">
                    <label class="col-lg-2 control-label" for="accion">Id Cita:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Código de la Cita" [(ngModel)]="filter.id" id="idCita" name="idCita" class="heigth25 form-control col-lg-12"
                        />
                    </div>

                    <label class="col-lg-2 control-label" for="accion">Número Médico:</label>
                    <div class="m-b col-lg-4">
                        <input type="text" placeholder="Número del Médico Prestador" [(ngModel)]="filter.numeroMedicoPrestador" id="numeroMedicoPrestador"
                            name="numeroMedicoPrestador" class="heigth25 form-control col-lg-12" />
                    </div>
                </fieldset>

                <fieldset class="col-lg-12">

                    <label class="col-lg-2 control-label" for="fechaDesde">Fecha Desde:</label>
                    <div class="m-b col-lg-4">
                        <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaDesde" name="fechaDesde" [(ngModel)]="filter.fechaDesde"
                            [datepicker]="datepickerOpts"></datetime>
                    </div>
                    <label class="col-lg-2 control-label" for="fechaHasta">Fecha Hasta:</label>
                    <div class="m-b col-lg-4">
                        <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaHasta" name="fechaHasta" [(ngModel)]="filter.fechaHasta"
                            [datepicker]="datepickerOpts"></datetime>
                    </div>

                </fieldset>


                <div class="col-lg-12 m-b">
                    <button class="btn btn-w-m btn-success btn-sm" (click)="buscar();">
                        <i class="fa fa-search"></i> Buscar
                    </button>
                    <a (click)="generarReporte();" class="btn btn-w-m btn-success btn-sm">
                        <i class="fa fa-file-excel-o"></i> Generar Reporte</a>
                    <a (click)="limpiar();" class="btn btn-w-m btn-success btn-sm">Limpiar</a>
                </div>


                <div class="dataTables_info">{{servicioCitaMedica.paginationConstants.EncabezadoTabla}}</div>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover dataTable">
                        <thead>
                            <tr>
                                <th class="centerMiddle">Sel</th>
                                <th class="centerMiddle">Número Contrato</th>
                                <th class="centerMiddle">Número Persona</th>
                                <th class="centerMiddle">Nombre Paciente</th>
                                <th class="centerMiddle">Teléfono Paciente</th>
                                <th class="centerMiddle">Nombre Médico</th>
                                <th class="centerMiddle">Teléfono Médico</th>
                                <th class="centerMiddle">Jornada</th>
                                <th class="centerMiddle">Estado Solicitud</th>
                                <th class="centerMiddle">Fecha Desde</th>
                                <th class="centerMiddle">Fecha Hasta</th>
                                <th class="centerMiddle">Fecha Registro</th>
                                <th class="centerMiddle">Registrado por</th>
                            </tr>
                        </thead>
                        <tbody class="no-borders selectableBodyTable" *ngFor="let solicitud of solicitudes | paginate: {id : 'solicitudesTable', itemsPerPage: servicioCitaMedica.paginationConstants.pageSize,currentPage: servicioCitaMedica.paginationConstants.pageNumber, totalItems: servicioCitaMedica.paginationConstants.total};">
                            <tr>
                                <td class="centerMiddle clickableColumn">
                                    <a title="Clic para ver Detalles">
                                        <i *ngIf="solicitud.descripcionEstadoSolicitud != 'Solicitada'" (click)="modalDetalles(solicitud)" class="fa fa-eye"></i>
                                    </a>
                                    <a title="Clic para Agendar">
                                        <i *ngIf="solicitud.descripcionEstadoSolicitud == 'Solicitada'" (click)="modalAgendar(solicitud)" class="fa fa-thumbs-o-up"></i>
                                    </a>
                                    <a title="Clic para Rechazar">
                                        <i *ngIf="solicitud.descripcionEstadoSolicitud == 'Solicitada'" (click)="modalRechazar(solicitud)" class="fa fa-thumbs-o-down"></i>
                                    </a>
                                </td>
                                <td>{{solicitud.numeroContrato}}</td>
                                <td>{{solicitud.cedulaBeneficiario}}</td>
                                <td>{{solicitud.nombreBeneficiario}}</td>
                                <td>{{solicitud.telefonoBeneficiario}}</td>
                                <td>{{solicitud.nombreMedicoPrestador}}</td>
                                <td>{{solicitud.telefonoMedicoPrestador}}</td>
                                <td>{{solicitud.jornada}}</td>
                                <td>{{solicitud.descripcionEstadoSolicitud}}</td>
                                <td>{{solicitud.fechaDesde | date: 'dd/MM/yyyy'}}</td>
                                <td>{{solicitud.fechaHasta | date: 'dd/MM/yyyy'}}</td>
                                <td>{{solicitud.fechaRegistro | date: 'dd/MM/yyyy'}}</td>
                                <td>{{solicitud.registradoPor}}</td>
                            </tr>
                        </tbody>
                        <tfoot *ngIf="servicioCitaMedica.paginationConstants.total == 0">
                            <tr>
                                <td colspan="15" style="text-align: center;">No existen resultados</td>
                            </tr>
                        </tfoot>
                    </table>
                    <pagination-controls id="solicitudesTable" maxSize="4" previousLabel="" nextLabel="" autoHide="true" (pageChange)="servicioCitaMedica.paginationConstants.pageNumber=$event;pageChanged();"></pagination-controls>

                </div>

            </form>
        </div>
    </div>
</div>


<!-- Modal de Rechazar -->
<div class="modal inmodal fade" id="myModalRechazarSolicitudes" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Cancelación de Solicitud</h5>
                </div>
                <div class="panel-body">
                    <fieldset class="col-lg-12 m-b">
                        <legend class="info">Ingrese un Motivo de Cancelación</legend>

                        <label class="col-lg-4 control-label" for="slcMotivoRechazo">Seleccione un Motivo de Rechazo:</label>
                        <div class="m-b col-lg-8">
                            <select required class="form-select-control m-b" id="slcMotivoRechazo" name="slcMotivoRechazo" [(ngModel)]="solicitudSeleccionada.motivoRechazo"
                                #slcMotivoRechazo="ngModel">
                                <option [ngValue]="undefined" selected>Seleccione...</option>
                                <option *ngFor="let motivo of motivosRechazo" [ngValue]="motivo.Codigo">{{motivo.Descripcion}}</option>
                            </select>
                        </div>

                    </fieldset>

                    <div class="col-lg-12 no-padding">
                        <button class="btn btn-w-m btn-success btn-sm" (click)="actualizarSolicitud(4);">
                            <i class="fa fa-sign-out"></i>OK</button>
                        <button class="btn btn-w-m btn-success btn-sm" (click)="salirCancelacion();">
                            <i class="fa fa-sign-out"></i>Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Detalles -->
<div class="modal inmodal fade" id="myModalDetallesSolicitud" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Detalles de la Solicitud</h5>
                </div>
                <div class="panel-body">
                    <fieldset class="col-lg-12 m-b">
                        <legend class="info">Solicitud {{solicitudSeleccionada.descripcionEstadoSolicitud}}</legend>

                        <label class="col-lg-2 control-label">Nombres Médico:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.nombreMedicoPrestador}}</span>

                        <label class="col-lg-2 control-label">Nombres Paciente:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.nombreBeneficiario}}</span>

                    </fieldset>

                    <fieldset class="col-lg-12 m-b">

                        <label class="col-lg-2 control-label">Correo del Médico:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.correoMedicoPrestador}}</span>

                        <label class="col-lg-2 control-label">Correo del Paciente:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.correoElectronicoBeneficiario}}</span>

                    </fieldset>

                    <fieldset class="col-lg-12 m-b">

                        <label class="col-lg-2 control-label">Teléfono Médico:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.telefonoCelularBeneficiario}}</span>

                        <label class="col-lg-2 control-label">Teléfono Paciente:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.telefonoMedicoPrestador}}</span>

                    </fieldset>

                    <fieldset class="col-lg-12 m-b" *ngIf="solicitudSeleccionada.estadoSolicitud == 4">
                        <label class="col-lg-2 control-label">Motivo Rechazo:</label>
                        <span class="col-md-4">{{solicitudSeleccionada.motivoRechazo}}</span>
                    </fieldset>

                    <div class="col-lg-12 no-padding">
                        <button class="btn btn-w-m btn-success btn-sm" (click)="salirDetalles();">
                            <i class="fa fa-sign-out"></i>Salir</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Modal de Agendar -->
<div class="modal inmodal fade" id="myModalAgendarCita" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Agendar Cita</h5>
                </div>
                <div class="panel-body">
                    <fieldset class="col-lg-12 m-b">
                        <legend class="info">Agendar Cita</legend>

                        <label class="col-lg-2 control-label">Fecha:</label>
                        <div class="m-b col-lg-4">
                            <datetime class="heigth25 col-lg-12" [timepicker]="false" id="fecha" name="fecha" [(ngModel)]="fecha" [datepicker]="datepickerOpts"></datetime>
                            <div class="" *ngIf="fecha == undefined">
                                <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>

                        <label class="col-lg-2 control-label">Hora:</label>

                        <!--
                        <div class="col-lg-4">
                            <div class="col-lg-6 no-padding">
                                <input type="number" [(ngModel)]="horas" id="horas" name="horas" min="0" max="23" placeholder="Hora" class="heigth25 form-control col-lg-12"
                                    (change)="horaChange();" maxlength="10" />
                            </div>
                            <div class="col-lg-6 no-padding-left">
                                <input type="number" [(ngModel)]="minutos" id="minutos" name="minutos" min="0" max="59" step="5" placeholder="minutos" class="heigth25 form-control col-lg-12"
                                    (change)="minutoChange();" maxlength="2" />
                            </div>

                            <div class="" *ngIf="horas == undefined || minutos == undefined">
                                <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>
                        -->

                        <div class="col-lg-4">
                            <input type="time" [(ngModel)]="hora" id="hora" name="hora" class="heigth25 form-control col-lg-12" />
                            <div class="" *ngIf="hora == undefined || hora == ''">
                                <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>

                    </fieldset>

                    <fieldset class="col-lg-12 m-b">
                        <div class="col-lg-2">
                            <label class="control-label" for="accion">Correo Electrónico:</label>
                        </div>
                        <div class="col-lg-4">
                            <input type="text" placeholder="Correo Electrónico" [(ngModel)]="correo1" id="correoElectronico" name="correoElectronico"
                                class="heigth25 form-control col-lg-12" />
                            <div class="" *ngIf="correo1 == undefined || correo1 == ''">
                                <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>

                        <!--
                        <div class="col-lg-2">
                            <label class="control-label" for="accion">Correo Electrónico 2:</label>
                        </div>
                        <div class="col-lg-4">
                            <input type="text" placeholder="Correo Electrónico" [(ngModel)]="correo2" id="correoElectronico2" name="correoElectronico2"
                                class="heigth25 form-control col-lg-12" />
                            <div class="" *ngIf="correo2 == undefined || correo2 == ''">
                                <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>
                        -->
                    </fieldset>

                    <div class="col-lg-12 no-padding">
                        <button class="btn btn-w-m btn-success btn-sm" (click)="getDireccion();">
                            <i class="fa fa-sign-out"></i>Agendar</button>
                        <button class="btn btn-w-m btn-success btn-sm" (click)="salirAgendar();">
                            <i class="fa fa-sign-out"></i>Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>