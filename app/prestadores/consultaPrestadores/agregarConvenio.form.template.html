<div style="min-height: 70px;">

    <div class="col-xs-12 no-padding m-t-xs m-b-sm">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5 class="panel-title">Agregar Convenio</h5>
            </div>
            <div class="panel-body">
                <form name="actualizaConvenioForm" role="form" #actualizaConvenioForm="ngForm">

                    <div class="col-lg-12 m-t-md no-padding">
                        <ul class="nav nav-tabs nestedTabs" role="tablist">
                            <li class="nav-item nestedTab active">
                                <a class="nav-link active" id="datosConvenioTab" data-toggle="tab" href="#datosConvenio" role="tab">1- Convenio</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="datosGeneralesTab" data-toggle="tab" href="#datosGenerales" role="tab">2.- Datos Generales</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="datosContactoTab" data-toggle="tab" href="#datosContacto" role="tab">3.- Datos Contacto</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="estudiosTab" data-toggle="tab" href="#estudios" role="tab">4.- Perfil</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="cargosDestacadosTab" data-toggle="tab" href="#pagosRetenciones" role="tab">5.- Pagos y Retenciones</a>
                            </li>

                        </ul>
                        <div class="tab-content nestedTabs">
                            <div class="tab-pane active" id="datosConvenio" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">

                                        <fieldset class="col-lg-12">
                                            <legend class="info">CONVENIO</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Estado:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="nombreEstado" id="estadoConvenio" name="estadoConvenio" class="heigth25 form-control col-lg-12"
                                                    [disabled]="true" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoConvenio" name="slcTipoConvenio" [(ngModel)]="convenio.TipoConvenio" #slcTipoConvenio="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoC of tipoConvenio" [value]="tipoC.Id">{{tipoC.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Emite Odas:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcEmiteOda" name="slcEmiteOda" [(ngModel)]="convenio.EmiteOda" #slcEmiteOda="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaConvenio" name="fechaConvenio" [(ngModel)]="convenio.FechaConvenio"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Cero Trámite:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcCeroTramites" name="slcCeroTramites" [(ngModel)]="convenio.PlanEspecial" #slcCeroTramites="ngModel"
                                                    (change)="changePlanEspecial();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Nivel Trámites:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.NivelEspecial" id="nivelEspecial" name="nivelEspecial" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.PlanEspecial || convenio.PlanEspecial.toString() == 'false'"
                                                />
                                            </div>

                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1" *ngIf="convenio.EstadoConvenio == 2">
                                                <label class="control-label">Motivo Anulación:</label>
                                            </div>
                                            <div class="m-b col-lg-3" *ngIf="convenio.EstadoConvenio == 2">
                                                <input type="text" [(ngModel)]="descripcionAnulacion" id="descripcionAnulacion" name="descripcionAnulacion" class="heigth25 form-control col-lg-12"
                                                />
                                                <a (click)="abrirModalMotivos();">
                                                    <i class="fa fa-user-md"></i> {{descripcionAnulacion==undefined || descripcionAnulacion==null
                                                    || descripcionAnulacion==""? 'Seleccionar' : 'Cambiar'}}
                                                </a>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="masivos">Masivos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcMasivos" name="slcMasivos" [(ngModel)]="convenio.Masivos" #slcMasivos="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="esRecomendado">Recomend.:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcRecomendados" name="slcRecomendados" [(ngModel)]="convenio.EsRecomendado"
                                                    #slcRecomendados="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="agendarCitas">Agendar Citas:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcAgendarCitas" name="slcAgendarCitas" [(ngModel)]="convenio.AgendarCitas" #slcAgendarCitas="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="esRedPreferente">Red Preferente:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcEsRedPreferente" name="slcEsRedPreferente" [(ngModel)]="convenio.EsRedPreferente"
                                                    #slcAgendarCitas="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>




                            <div class="tab-pane" id="datosGenerales" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">
                                        <fieldset class="col-lg-12">
                                            <legend class="info">DATOS GENERALES</legend>

                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Fecha Inicio Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaInicioConvenio" name="fechaInicioConvenio"
                                                    [(ngModel)]="convenio.FechaInicioConvenio" [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Fecha Fin Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaFinConvenio" name="fechaFinConvenio" [(ngModel)]="convenio.FechaFinConvenio"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Tipo Prestador:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <span>{{convenio.TipoPrestador}}</span>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Hospital Referencia:</label>
                                            </div>
                                            <div class="m-b col-lg-6">
                                                <input type="text" [(ngModel)]="convenio.HospitalReferencia" id="hospitalReferencia" name="hospitalReferencia" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Nivel desde:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.NivelPrestadorDesde" id="nivelPrestadorDesde" name="nivelPrestadorDesde" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Nivel hasta:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.NivelPrestadorHasta" id="nivelPrestadorHasta" name="nivelPrestadorHasta" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.PersonaNumero!=0">
                                                <label class="control-label">Persona Número:</label>
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.PersonaNumero!=0">
                                                <span>{{convenio.PersonaNumero}}</span>
                                            </div>

                                            <div class="m-b col-lg-2" *ngIf="convenio.EmpresaNumero!=0">
                                                <label class="control-label">Empresa Número:</label>
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.EmpresaNumero!=0">
                                                <span>{{convenio.EmpresaNumero}}</span>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label" for="rucins">RUC:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.Rucins" id="rucins" name="rucins" class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Prestador:</label>
                                            </div>
                                            <div class="m-b col-lg-6">
                                                <span>{{convenio.NombrePrestador}}</span>
                                            </div>

                                        </fieldset>

                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="datosContacto" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">


                                        <fieldset class="col-lg-12">
                                            <legend class="info">DATOS CONTACTO</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Teléfono1:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.TelefConsultorio1" id="telefConsultorio1" name="telefConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Horario1:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.HorarioConsultorio1" id="horarioConsultorio1" name="horarioConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dirección1:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <input type="text" [(ngModel)]="convenio.DireccionConsultorio1" id="direccionConsultorio1" name="direccionConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>

                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Teléfono2:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.TelefConsultorio2" id="telefConsultorio2" name="telefConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Horario2:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.HorarioConsultorio2" id="horarioConsultorio2" name="horarioConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dirección2:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <input type="text" [(ngModel)]="convenio.DireccionConsultorio2" id="direccionConsultorio2" name="direccionConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Ciudad:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <select class="form-select-control m-b" id="slcciudadContactoConvenio" name="slcciudadContactoConvenio" [(ngModel)]="convenio.CodigoCiudad"
                                                    #slcciudadContactoConvenio="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let ciudad of ciudades" [value]="ciudad.CodigoProgress">{{ciudad.Valor}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Correo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="email" [(ngModel)]="convenio.CorreoContacto" id="correoContacto" name="correoContacto" class="heigth25 form-control col-lg-12"
                                                    #correoContacto="ngModel" required email/>
                                            </div>
                                            <div [hidden]="correoContacto.valid || correoContacto.pristine" class="error ">
                                                <p *ngIf="correoContacto.errors?.required">Campo Requerido</p>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Coordenadas:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.Latitud" id="latitud" name="latitud" class="heigth25 form-control col-lg-12" placeholder="Latitud"
                                                />
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.Longitud" id="longitud" name="longitud" class="heigth25 form-control col-lg-12"
                                                    placeholder="Longitud" />
                                            </div>
                                        </fieldset>

                                    </div>
                                </div>
                            </div>


                            <div class="tab-pane" id="estudios" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">
                                        <fieldset class="col-lg-12">
                                            <legend class="info">ESTUDIOS</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo General:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloGeneral" id="tituloGeneral" name="tituloGeneral" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloGeneral" id="lugarTituloGeneral" name="lugarTituloGeneral" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloGeneral" name="fechaTituloGeneral" [(ngModel)]="convenio.FechaTituloGeneral"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Especialidad:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloEspecialidad" id="tituloEspecialidad" name="tituloEspecialidad" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloEspecialidad" id="lugarTituloEspecialidad" name="lugarTituloEspecialidad"
                                                    class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloEspecialidad" name="fechaTituloEspecialidad"
                                                    [(ngModel)]="convenio.FechaTituloEspecialidad" [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Subesp:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloSubesp" id="tituloSubesp" name="tituloSubesp" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloSubespe" id="lugarTituloSubespe" name="lugarTituloSubespe" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloSubespe" name="fechaTituloSubespe" [(ngModel)]="convenio.FechaTituloSubespe"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Master:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Master" id="master" name="master" class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarMaster" id="lugarMaster" name="lugarMaster" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaMaster" name="fechaMaster" [(ngModel)]="convenio.FechaMaster"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Especialidad:</label>
                                            </div>
                                            <div class="m-b col-lg-7">
                                                <input type="text" [(ngModel)]="convenio.ListaEspecialidades" id="listaEspecialidades" name="listaEspecialidades" class="heigth25 form-control col-lg-12"
                                                    [disabled]="true" />
                                                <a (click)="loadEspecialidades()">
                                                    <i class="fa fa-user-md"></i> {{convenio.ListaEspecialidades==undefined || convenio.ListaEspecialidades==null
                                                    || convenio.ListaEspecialidades==""? 'Seleccione' : 'Aumentar'}}
                                                </a>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <legend class="info">CARGOS DESTACADOS</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoHospital">Hospital:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTrabajoHospital" name="slcTrabajoHospital" [(ngModel)]="convenio.TrabajoHospital"
                                                    #slcTrabajoHospital="ngModel" (change)="changeTrabajoHospita();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoHospital" id="tiempoHospital" name="tiempoHospital" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoHospital || convenio.TrabajoHospital.toString() == 'false'"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoClinica">Clínica:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTarbajoClinica" name="slcTarbajoClinica" [(ngModel)]="convenio.TrabajoClinica"
                                                    #slcTarbajoClinica="ngModel" (change)="changeTrabajoClinica();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoClinica" id="tiempoClinica" name="tiempoClinica" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoClinica || convenio.TrabajoClinica.toString()  == 'false'"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoConsultorio">Consultorio:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTarbajoConsultorio" name="slcTarbajoConsultorio" [(ngModel)]="convenio.TrabajoConsultorio"
                                                    #slcTarbajoConsultorio="ngModel" (change)="changeConsultorio();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoConsultorio" id="tiempoConsultorio" name="tiempoConsultorio" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoConsultorio || convenio.TrabajoConsultorio.toString() == 'false'"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="sociedaC">Sociedad Científica:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcSociedad" name="slcSociedad" [(ngModel)]="convenio.SociedaC" #slcSociedad="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>


                                        </fieldset>
                                        <fieldset class="col-lg-12">

                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="investigacion">Investigacion:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcInvestigacion" name="slcInvestigacion" [(ngModel)]="investigacion" #slcInvestigacion="ngModel"
                                                    (change)="changeInvestigacion();">
                                                    <option [value]="1">No</option>
                                                    <option [value]="2">Si</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tema:</label>
                                            </div>
                                            <div class="m-b col-lg-7">
                                                <input type="text" [(ngModel)]="convenio.SobreQue" id="sobreQue" name="sobreQue" class="heigth25 form-control col-lg-12"
                                                    [disabled]="investigacion == 1" />
                                                <div class="" *ngIf="investigacion == 2 && convenio.SobreQue == ''">
                                                    <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">El Tema de la Investigacion no puede estar en blanco</label>
                                                </div>
                                                <div class="" *ngIf="investigacion == 2 && convenio.SobreQue == undefined">
                                                    <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">El Tema de la Investigacion no puede estar en blanco</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">


                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fin Permiso:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaPermisoFin" name="fechaPermisoFin" [(ngModel)]="convenio.FechaPermisoFin"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="staff">Staff Médicos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcStaff" name="slcStaff" [(ngModel)]="convenio.Staff" #slcStaff="ngModel" (change)="changeStaff();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Receptor:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Receptor" id="receptor" name="receptor" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.Staff || convenio.Staff.toString() == 'false'" />
                                            </div>
                                        </fieldset>



                                    </div>
                                </div>
                            </div>


                            <div class="tab-pane" id="cargosDestacados" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">


                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="pagosRetenciones" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">

                                        <fieldset class="col-lg-12">
                                            <legend class="info">PAGOS Y RETENCIONES</legend>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Pago inteligente:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcPagoInteligente" name="slcPagoInteligente" [(ngModel)]="pagoInteligente" #slcPagoInteligente="ngModel"
                                                    (change)="changePagoInteligente();">
                                                    <option *ngFor="let opcion of comboSiNoInt" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Bancos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcbanco" name="slcbanco" [(ngModel)]="convenio.CodigoBanco" #slcbanco="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let banco of bancos" [value]="banco.CodigoBanco">{{banco.NombreBanco}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">No. Cuenta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.NumeroCuenta" id="numeroCuenta" name="numeroCuenta" class="heigth25 form-control col-lg-12"
                                                    [disabled]="pagoInteligente == 1" />

                                                <div class="" *ngIf="pagoInteligente == 2 && convenio.NumeroCuenta == undefined">
                                                    <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">Debe ingresar un número de cuenta</label>
                                                </div>
                                                <div class="" *ngIf="pagoInteligente == 2 && convenio.NumeroCuenta == ''">
                                                    <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">Debe ingresar un número de cuenta</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo cta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoCuenta" name="slcTipoCuenta" [(ngModel)]="convenio.TipoCuenta" #slcTipoCuenta="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoCta of tipoCuenta" [value]="tipoCta.Id">{{tipoCta.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo ID cta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcIdTipoCuenta" name="slcIdTipoCuenta" [(ngModel)]="convenio.TipoIdCuenta" #slcIdTipoCuenta="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipo of tipoIdCuenta" [value]="tipo.Id">{{tipo.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Id Cuenta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.IdCuenta" id="idCuenta" name="idCuenta" class="heigth25 form-control col-lg-12"
                                                    [disabled]="pagoInteligente == 1" />
                                            </div>

                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Contacto:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Contacto" id="contacto" name="contacto" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Actividad Económica:</label>
                                            </div>
                                            <div class="m-b col-lg-7">
                                                <input type="text" [(ngModel)]="convenio.ActividadEconomica" id="actividadEconomica" name="actividadEconomica" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dsct %:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.DsctoTotalPctje" id="dsctoTotalPctje" name="dsctoTotalPctje" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="dsctoProntoPago">Dsct Pago:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcDsctoProntoPago" name="slcDsctoProntoPago" [(ngModel)]="convenio.DsctoProntoPago"
                                                    #slcDsctoProntoPago="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="dsctoRubrosFijos">Dsct Fijo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcDsctoRubrosFijos" name="slcDsctoRubrosFijos" [(ngModel)]="convenio.DsctoRubrosFijos"
                                                    #slcDsctoRubrosFijos="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo Identifiación:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoIdentificaion" name="slcTipoIdentificaion" [(ngModel)]="convenio.TipoIdentificacion"
                                                    #slcTipoIdentificaion="ngModel">
                                                    <option [ngValue]="null" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoIde of tiposIdentificacion" [value]="tipoIde.Id">{{tipoIde.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo Contrib:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoContribuyente" name="slcTipoContribuyente" [(ngModel)]="convenio.TipoContribuyente"
                                                    #slcTipoContribuyente="ngModel" (change)="changeTipoContribuyente();">
                                                    <option [ngValue]="0" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoContrib of tipoContribuyente" [value]="tipoContrib.Id">{{tipoContrib.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Contrib Especial:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcContribEspecial" name="slcContribEspecial" [(ngModel)]="convenio.ContribuyenteEspecial"
                                                    #slcContribEspecial="ngModel" (change)="changeTipoContribuyente();">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoCE of tipoContribEspecial" [value]="tipoCE.Id">{{tipoCE.Nombre}}</option>
                                                </select>
                                            </div>


                                        </fieldset>
                                        <fieldset class="col-lg-12">

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Retención:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcRetencion" name="slcRetencion" [(ngModel)]="retencion" #slcRetencion="ngModel"
                                                    [disabled]="true">
                                                    <option [value]="1">No</option>
                                                    <option [value]="2">Si</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Estado:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoEstado" name="slcTipoEstado" [(ngModel)]="convenio.SujetoEstado" #slcTipoEstado="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let sujetoEstado of tiposEstado" [value]="sujetoEstado.Id">{{sujetoEstado.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Suspension:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaSuspension" name="fechaSuspension" [(ngModel)]="convenio.FechaSuspension"
                                                    [datepicker]="datepickerOpts"></datetime>

                                                <div class="" *ngIf="convenio.SujetoEstado == 3 && convenio.FechaSuspension == undefined">
                                                    <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">Fecha de Suspensión Obligatoria</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Obligado Cont:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcObligadoContabilidad" name="slcObligadoContabilidad" [(ngModel)]="convenio.ObligadoContabilidad"
                                                    #slcObligadoContabilidad="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Email Notificación:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="email" [(ngModel)]="convenio.CorreoElectronicoNotificacion" id="correoElectronicoNotificacion" name="correoElectronicoNotificacion"
                                                    #correoElectronicoNotificacion="ngModel" class="heigth25 form-control col-lg-12"
                                                    required email/>
                                            </div>
                                            <div [hidden]="correoElectronicoNotificacion.valid || correoElectronicoNotificacion.pristine" class="error ">
                                                <p *ngIf="correoElectronicoNotificacion.errors?.required">Campo Requerido</p>
                                            </div>
                                        </fieldset>
                                        <div class="col-lg-12">
                                            <button class="btn btn-w-m btn-success btn-sm" (click)="insertarConvenio();">
                                                <i class="fa fa-save"></i>Insertar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!-- Modal de Detalles -->
<div class="modal inmodal fade" id="myModalEspecialidades" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Detalles de la Solicitud</h5>
                </div>
                <div class="panel-body">

                    <div class="col-lg-6  m-b">
                        <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                            <table id="tablaConsultores" class="table table-striped table-bordered table-hover dataTable">
                                <thead>
                                    <tr>
                                        <th class="centerMiddle">Codigo</th>
                                        <th class="centerMiddle">Especialidad</th>


                                    </tr>
                                </thead>
                                <tbody id="bodyEspeci" class="no-borders selectableBodyTable">
                                    <tr id="listaEspe{{i}}" [class.active]="especialidad.Selected" title="{{!especialidad.Selected ? 'Click para añadir' : 'Click para quitar'}}"
                                        (click)="seleccionarEspecialidad(especialidad);" *ngFor="let especialidad of listaEspe; let i = index">
                                        <td class="centerMiddle">{{especialidad.CodigoProgress}}</td>
                                        <td class="centerMiddle">{{especialidad.Valor}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-lg-6  m-b">
                        <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                            <table id="tablaConsultores" class="table table-striped table-bordered table-hover dataTable">
                                <thead>
                                    <tr>
                                        <th class="centerMiddle">Codigo</th>
                                        <th class="centerMiddle">SubEspecialida</th>
                                    </tr>
                                </thead>
                                <tbody id="bodyEspeci" class="no-borders selectableBodyTable">
                                    <tr id="listaSubEspe{{i}}" [class.active]="subEspecialidad.Selected" title="{{!subEspecialidad.Selected ? 'Click para seleccionar' : 'Click para quitar'}}"
                                        (click)="seleccionarSubEspecialidad(subEspecialidad)" *ngFor="let subEspecialidad of listaSubEspe; let i = index">
                                        <td class="centerMiddle">{{subEspecialidad.CodigoProgress}}</td>
                                        <td class="centerMiddle">{{subEspecialidad.Valor}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <button class="btn btn-w-m btn-success btn-sm" (click)="guardarListaEspecialidades();">
                            <i class="fa fa-sign-check"></i>Ok</button>

                        <button class="btn btn-w-m btn-success btn-sm" (click)="salirEspecialidades();">
                            <i class="fa fa-sign-out"></i>Cancelar</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal Ingresa/Busca Tipo prestador 1/2 -->
<div class="modal inmodal fade" id="myModalTipoPrestador" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Tipo de Prestador</h5>
                </div>
                <div class="panel-body">
                    <div class="col-lg-12">
                        <div class="m-b col-lg-2">
                            <label class="control-label">Tipo Prestador:</label>
                        </div>
                        <div class="m-b col-lg-4">
                            <select class="form-select-control m-b" id="slcTipoPrestador" name="slcTipoPrestador" [(ngModel)]="tipoPrestador" #slcTipoPrestador="ngModel">
                                <option [ngValue]="undefined" selected>Seleccione...</option>
                                <option *ngFor="let tipoME of tipoPerMed" [value]="tipoME">{{tipoME}}</option>
                            </select>

                            <div class="" *ngIf="tipoPrestador == undefined">
                                <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Ciudad Emisión:</label>
                        </div>

                        <div class="m-b col-lg-4">
                            <select class="form-select-control m-b" id="slcCiudadEntorno" name="slcCiudadEntorno" [(ngModel)]="ciudadEnt" #slcCiudadEntorno="ngModel">
                                <option [ngValue]="undefined" selected>Seleccione...</option>
                                <option *ngFor="let ciudad of ciudadEntorno" [value]="ciudad.Id">{{ciudad.Nombre}}</option>
                            </select>

                            <div class="" *ngIf="ciudadEnt == undefined">
                                <label class="col-md-12 no-padding" style="color: #ff0000;font-weight: normal;font-size: smaller;">Campo Requerido</label>
                            </div>
                        </div>

                    </div>

                    <div class="col-lg-12" *ngIf="tipoPrestador == 'Médico' && ciudadEnt!=undefined">
                        <legend class="info">Datos de búsqueda del Médico</legend>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Apellidos:</label>
                        </div>
                        <div class="m-b col-lg-4">
                            <input type="text" [(ngModel)]="filterPersona.Apellidos" id="apellidosPrestador" name="apellidosPrestador" class="heigth25 form-control col-lg-12"
                                #apellidoPersona="ngModel" minlength="3" maxlength="50" [required]="nombrePersona.touched && filterPersona.Nombres != undefined && filterPersona.Nombres.length >0
                                                            && ( filterPersona.Apellidos == undefined || filterPersona.Apellidos.length <= 0 )"
                            />
                            <div [hidden]="(apellidoPersona.valid || apellidoPersona.pristine) && !nombrePersona.touched" class="error">
                                <p *ngIf="apellidoPersona.errors?.minlength">Minimo 3 caracteres</p>
                                <p *ngIf="apellidoPersona.errors?.maxlength">Maximo 50 caracteres</p>
                                <p *ngIf="apellidoPersona.errors?.required">Requerido</p>
                            </div>

                        </div>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Nombres:</label>
                        </div>
                        <div class="m-b col-lg-4">
                            <input type="text" [(ngModel)]="filterPersona.Nombres" id="nombresPrestador" name="nombresPrestador" class="heigth25 form-control col-lg-12"
                                #nombrePersona="ngModel" minlength="3" maxlength="50" [required]="apellidoPersona.touched && filterPersona.Apellidos != undefined && filterPersona.Apellidos.length >0
                            && (filterPersona.Nombres == undefined || filterPersona.Nombres.length <= 0) " />
                            <div [hidden]="(nombrePersona.valid || nombrePersona.pristine) && !apellidoPersona.touched" class="error">
                                <p *ngIf="nombrePersona.errors?.minlength">Minimo 3 caracteres</p>
                                <p *ngIf="nombrePersona.errors?.maxlength">Maximo 50 caracteres</p>
                                <p *ngIf="nombrePersona.errors?.required">Requerido</p>
                            </div>
                        </div>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Cédula:</label>
                        </div>

                        <div class="m-b col-lg-4">
                            <input type="text" [(ngModel)]="filterPersona.Cedula" id="cedulaPrestador" name="cedulaPrestador" class="heigth25 form-control col-lg-12"
                                pattern="\d*" maxlength="13" #cedula="ngModel" />
                            <div [hidden]="cedula.valid || cedula.pristine" class="error ">
                                <p *ngIf="cedula.errors?.pattern">Solo se admiten dígitos</p>
                                <p *ngIf="cedula.errors?.maxlength">Maximo 13 dígitos</p>
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="buscarPersona();">
                                <i class="fa fa-search"></i> Buscar</button>
                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalPrestadorMedico();">
                                <i class="fa fa-plus"></i> Nuevo</button>
                            <button class="btn btn-w-m btn-success btn-sm" (click)="salirTipoPrestador();">
                                <i class="fa fa-sign-minus"></i> Salir</button>
                        </div>
                    </div>



                    <div class="col-lg-12" *ngIf="tipoPrestador != 'Médico' && tipoPrestador!= undefined && ciudadEnt!=undefined">
                        <legend class="info">Datos de búsqueda de la Empresa</legend>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Ruc:</label>
                        </div>
                        <div class="m-b col-lg-4">
                            <input type="text" [(ngModel)]="filterEmpresa.RucEmpresa" id="rucEmpresa" name="rucEmpresa" class="heigth25 form-control col-lg-12"
                                pattern="\d*" maxlength="13" #rucEmpr="ngModel" />
                            <div [hidden]="rucEmpr.valid || rucEmpr.pristine" class="error ">
                                <p *ngIf="rucEmpr.errors?.pattern">Solo se admiten dígitos</p>
                                <p *ngIf="rucEmpr.errors?.maxlength">Maximo 13 dígitos</p>
                            </div>
                        </div>

                        <div class="m-b col-lg-2">
                            <label class="control-label">Razón Social:</label>
                        </div>
                        <div class="m-b col-lg-4">
                            <input type="text" [(ngModel)]="filterEmpresa.RazonSocial" id="razonSocial" name="razonSocial" class="heigth25 form-control col-lg-12"
                                #razonSocial="ngModel" minlength="3" maxlength="50" />
                            <div [hidden]="razonSocial.valid || razonSocial.pristine" class="error">
                                <p *ngIf="razonSocial.errors?.minlength">Minimo 3 caracteres</p>
                                <p *ngIf="razonSocial.errors?.maxlength">Maximo 50 caracteres</p>
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="buscarEmpresa();">
                                <i class="fa fa-search"></i> Buscar</button>
                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalPrestadorEmpresa();">
                                <i class="fa fa-plus"></i> Nuevo</button>
                            <button class="btn btn-w-m btn-success btn-sm" (click)="salirTipoPrestador();">
                                <i class="fa fa-minus"></i> Salir</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<form name="datosForm" role="form" #datosForm="ngForm">
    <div class="modal inmodal fade" id="myModalPrestadorMedico" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
        data-keyboard="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-dialog modal-lg">
                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h5 class="panel-title" *ngIf="persona.NumeroPersona == undefined">Ingresar Datos</h5>
                        <h5 class="panel-title" *ngIf="persona.NumeroPersona != undefined">Actualización de la Persona # {{persona.NumeroPersona}}</h5>
                    </div>
                    <div class="panel-body">
                        <div class="col-lg-12 no-padding">
                            <legend class="info">DATOS GENERALES</legend>
                            <div class="m-b col-lg-2">
                                <label class="control-label">Nombres:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="persona.PersonaNombres" id="nombPrest" name="nombPrest" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Apellidos:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="persona.PersonaApellidos" id="nombPrest" name="nombPrest" class="heigth25 form-control col-lg-12"
                                />
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <select class="form-select-control m-b" name="documentoPersona" id="documentoPersona" [(ngModel)]="tipoDocumento" #documentoPersona="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let documento of listaDocumentos" [ngValue]="documento.id">{{documento.descripcion}}</option>
                                </select>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="persona.CedulaPersona" id="perDatCi" name="perDatCi" class="heigth25 form-control col-lg-12"
                                    placeholder="Cédula" *ngIf="tipoDocumento == 0" #perDatCi="ngModel" required minlength="10"
                                />

                                <input type="text" [(ngModel)]="persona.PersonaPasaporte" id="perDatPa" name="perDatPa" class="heigth25 form-control col-lg-12"
                                    placeholder="Pasaporte" *ngIf="tipoDocumento != 0" required/>
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Genero:</label>
                            </div>
                            <div class="m-b col-lg-4">

                                <select class="form-select-control m-b" id="" name="slcSexoPersona" [(ngModel)]="persona.PersonaSexo" #slcSexoPersona="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let genero of generoPersona" [value]="genero.Id">{{genero.Nombre}}</option>
                                </select>
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Estado Civil:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcEstadoCivil" name="slcEstadoCivil" [(ngModel)]="persona.PersonaEstadoCivil"
                                    #slcEstadoCivil="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let estaCivil of estadoCivil" [value]="estaCivil.Id">{{estaCivil.Nombre}}</option>
                                </select>
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Nacionalidad Ecuatoriana:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcNacionalidad" name="slcNacionalidad" [(ngModel)]="persona.PersonaNacionalidad"
                                    #slcNacionalidad="ngModel">
                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                </select>
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Direccion:</label>
                            </div>
                            <div class="m-b col-lg-10">
                                <input type="text" [(ngModel)]="persona.DomicilioCalle" id="direcc" name="direcc" class="heigth25 form-control col-lg-12"
                                />
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">

                            <div class="m-b col-lg-2">
                                <label class="control-label">Correo:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="email" [(ngModel)]="persona.DomicilioEmail" id="correoContacto" name="correoContacto" class="heigth25 form-control col-lg-12"
                                    email requiered #correoContacto="ngModel" />
                            </div>
                            <div [hidden]="correoContacto.valid || correoContacto.pristine" class="error ">
                                <p *ngIf="correoContacto.errors?.required">Campo Requerido</p>
                            </div>
                            <div class="m-b col-lg-2">
                                <label class="control-label">Teléfono:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="persona.DomicilioTelefono1" id="telefConsultorio1" name="telefConsultorio1" class="heigth25 form-control col-lg-12"
                                    #telefConsultorio1="ngModel" minlength="9" required/>
                            </div>
                            <div [hidden]="telefConsultorio1.valid || telefConsultorio1.pristine" class="error">
                                <p *ngIf="telefConsultorio1.errors?.required">Campo requerido</p>
                                <p *ngIf="telefConsultorio1.errors?.min">mínimo 9</p>
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Ciudad:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcCiudadDomicilio" name="slcCiudadDomicilio" [(ngModel)]="persona.DomicilioCiudad"
                                    #slcCiudadDomicilio="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let ciudad of ciudades" [value]="ciudad.CodigoProgress">{{ciudad.Valor}}</option>
                                </select>
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Fecha Nacimiento:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaNaciPrestador" name="fechaNaciPrestador" [(ngModel)]="persona.PersonaFechaNacimiento"
                                    [datepicker]="datepickerOpts"></datetime>
                            </div>
                        </div>

                        <div class="col-lg-12" *ngIf="persona.NumeroPersona == undefined">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="registarPersona();" [disabled]="datosForm.form.invalid">
                                <i class="fa fa-sign-out"></i>Registrar</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalTipoPrestador();">
                                <i class="fa fa-sign-out"></i>Cancelar</button>
                        </div>

                        <div class="col-lg-12" *ngIf="persona.NumeroPersona != undefined">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="actualizarPersona();">
                                <i class="fa fa-sign-out"></i>Actualizar</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="setearPrestadorMedico();">
                                <i class="fa fa-sign-out"></i>Omitir</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalTipoPrestador();">
                                <i class="fa fa-sign-out"></i>Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>



<!-- Modal listado de Personas -->
<div id="consultorModalDiv">
    <div class="modal inmodal fade" id="myModalListadoPersonas" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="col-lg-12 m-t-sm no-padding">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h5 class="panel-title">Listado de Personas</h5>
                        </div>
                        <div class="panel-body panelDatos">
                            <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                                <table id="tablaMotivos" class="table table-striped table-bordered table-hover dataTable">
                                    <thead>
                                        <tr>
                                            <th class="centerMiddle">Número</th>
                                            <th class="centerMiddle">Nombres
                                                <input type="text" placeholder="Buscar..." id="buscarMotivo" name="buscarMotivo" class="form-control heigth25">
                                            </th>
                                            <th class="centerMiddle">Sexo</th>
                                            <th class="centerMiddle">Cédula</th>
                                        </tr>
                                    </thead>
                                    <tbody id="bodyMotivo" class="no-borders selectableBodyTable">
                                        <tr id="persona{{i}}" [class.active]="persona.Selected" title="{{!persona.Selected ? 'Click para seleccionar' : ''}}" (click)="!persona.Selected ? seleccionarPersona(persona) : return;"
                                            *ngFor="let persona of listaPersonas; let i = index">
                                            <td class="centerMiddle">{{persona.NumeroPersona}}</td>
                                            <td class="centerMiddle">{{persona.NombresCompletos}}</td>
                                            <td class="centerMiddle">{{persona.DescripcionSexo}}</td>
                                            <td class="centerMiddle">{{persona.CedulaPersona}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Modal listado de Empresas -->
<div id="consultorModalDiv">
    <div class="modal inmodal fade" id="myModalListadoEmpresas" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="col-lg-12 m-t-sm no-padding">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h5 class="panel-title">Listado de Empresas</h5>
                        </div>
                        <div class="panel-body panelDatos">
                            <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                                <table id="tablaMotivos" class="table table-striped table-bordered table-hover dataTable">
                                    <thead>
                                        <tr>
                                            <th class="centerMiddle">Número</th>
                                            <th class="centerMiddle">Razón Social</th>
                                            <th class="centerMiddle">Ruc</th>
                                        </tr>
                                    </thead>
                                    <tbody id="bodyMotivo" class="no-borders selectableBodyTable">
                                        <tr id="empresa{{i}}" [class.active]="empresa.Selected" title="{{!empresa.Selected ? 'Click para seleccionar' : ''}}" (click)="!empresa.Selected ? seleccionarEmpresa(empresa) : return;"
                                            *ngFor="let empresa of listaEmpresas; let i = index">
                                            <td class="centerMiddle">{{empresa.EmpresaNumero}}</td>
                                            <td class="centerMiddle">{{empresa.RazonSocial}}</td>
                                            <td class="centerMiddle">{{empresa.RucEmpresa}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form  name="ingresoDatosForm" role="form" #ingresoDatosForm="ngForm">
    <div class="modal inmodal fade" id="myModalPrestadorEmpresa" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
        data-keyboard="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-dialog modal-lg">
                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h5 class="panel-title" *ngIf="empresa.EmpresaNumero == undefined">Ingresar Datos </h5>
                        <h5 class="panel-title" *ngIf="empresa.EmpresaNumero != undefined">Actualización de la Empresa # {{empresa.EmpresaNumero}}</h5>
                    </div>
                    <div class="panel-body">
                        <div class="col-lg-12 no-padding">
                            <legend class="info">DATOS GENERALES</legend>
                            <div class="m-b col-lg-2">
                                <label class="control-label">Ruc:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="empresa.RucEmpresa" id="rucEmpresa" name="rucEmpresa" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Razón Social:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.RazonSocial" id="razonSocialEmpre" name="razonSocialEmpre" class="heigth25 form-control col-lg-12"
                                />
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Grupo:</label>
                            </div>

                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.GrupoNumero" id="grupoEmpresa" name="grupoEmpresa" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Ciudad:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcCiudadEmpresa" name="slcCiudadEmpresa" [(ngModel)]="empresa.CodigoCiudad"
                                    #slcCiudadEmpresa="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let ciudad of ciudades" [value]="ciudad.CodigoProgress">{{ciudad.Valor}}</option>
                                </select>
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Actividad:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcActividad" name="slcActividad" [(ngModel)]="empresa.CodigoActividad" #slcActividad="ngModel">
                                    <option [ngValue]="0" selected>Seleccione...</option>
                                    <option *ngFor="let actividad of actividades" [value]="actividad.Id">{{actividad.Valor}}</option>
                                </select>
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Tipo Sociedad:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="sclTipoSociedad" name="sclTipoSociedad" [(ngModel)]="empresa.TipoSociedad" #slcNacionalidad="ngModel">
                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                    <option *ngFor="let tipoS of tipoSociedad" [value]="tipoS.Id">{{tipoS.Nombre}}</option>
                                </select>
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Direccion1:</label>
                            </div>
                            <div class="m-b col-lg-10">
                                <input type="text" [(ngModel)]="empresa.EmpresaCalle" id="empresaCalle" name="empresaCalle" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Zona:</label>
                            </div>
                            <div class="m-b col-lg-10">
                                <select class="form-select-control m-b" id="slcEmpresaZona" name="slcEmpresaZona" [(ngModel)]="empresa.EmpresaZona" #slcEmpresaZona="ngModel">
                                    <option *ngFor="let zona of zonas" [value]="zona.Id">{{zona.Nombre}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">
                            <div class="m-b col-lg-2">
                                <label class="control-label">Teléfono:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="empresa.EmpresaTelefono" id="empresaTelefono" name="empresaTelefono" class="heigth25 form-control col-lg-12"
                                minlength="9" #empresaTelefono="ngModel" />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Correo:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="email" [(ngModel)]="empresa.EmpresaEmail" id="empresaMail" name="empresaMail" class="heigth25 form-control col-lg-12" requierd email
                                    #empresaMail="ngModel" />
                            </div>
                
                        </div>

                        <div class="col-lg-12 no-padding">

                            <legend class="info">REPRESENTANTE LEGAL DE LA EMPRESA</legend>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Cédula:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="empresa.RepresentanteCedula" id="representanteCedula" name="representanteCedula" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Cargo:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.RepresentanteCargo" id="representanteCargo" name="representanteCargo" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                        </div>
                        <div class="col-lg-12 no-padding">

                            <div class="m-b col-lg-2">
                                <label class="control-label">Nombres:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.RepresentanteNombres" id="representanteNombres" name="representanteNombres" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Apellidos:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.RepresentanteApellidos" id="representanteApellidos" name="representanteApellidos"
                                    class="heigth25 form-control col-lg-12" />
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">

                            <div class="m-b col-lg-2">
                                <label class="control-label">Relación:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <select class="form-select-control m-b" id="slcRelacionRepresentante" name="slcRelacionRepresentante" [(ngModel)]="empresa.RepresentanteRelacion"
                                    #slcRelacionRepresentante="ngModel">
                                    <option *ngFor="let relacion of relacionEmpresa" [value]="relacion.Id">{{relacion.Nombre}}</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-lg-12 no-padding">

                            <legend class="info">FINANCIERO DE LA EMPRESA</legend>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Cédula:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="number" [(ngModel)]="empresa.FinancieroCedula" id="financieroCedula" name="financieroCedula" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Cargo:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.FinancieroCargo" id="financieroCargo" name="financieroCargo" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                        </div>

                        <div class="col-lg-12 no-padding">

                            <div class="m-b col-lg-2">
                                <label class="control-label">Nombres:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.FinancieroNombres" id="financieroNombres" name="financieroNombres" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                            <div class="m-b col-lg-2">
                                <label class="control-label">Apellidos:</label>
                            </div>
                            <div class="m-b col-lg-4">
                                <input type="text" [(ngModel)]="empresa.FinancieroApellidos" id="financieroApellidos" name="financieroApellidos" class="heigth25 form-control col-lg-12"
                                />
                            </div>

                        </div>


                        <div class="col-lg-12" *ngIf="empresa.EmpresaNumero == undefined">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="registarEmpresa();" [disabled]="ingresoDatosForm.form.invalid">
                                <i class="fa fa-sign-in"></i>Registra</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalTipoPrestador();">
                                <i class="fa fa-sign-out"></i>Cancelar</button>
                        </div>

                        <div class="col-lg-12" *ngIf="empresa.EmpresaNumero != undefined">
                            <button class="btn btn-w-m btn-success btn-sm" (click)="actualizarEmpresa();" >
                                <i class="fa fa-refresh"></i>Actualizar</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="setearPrestadorEmpresa();">
                                <i class="fa fa-times"></i>Omitir</button>

                            <button class="btn btn-w-m btn-success btn-sm" (click)="modalTipoPrestador();">
                                <i class="fa fa-sign-out"></i>Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>