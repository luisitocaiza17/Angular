<div style="min-height: 70px;">

    <div class="col-xs-12 no-padding m-t-xs m-b-sm">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h5 class="panel-title">Actualizar Convenio</h5>
            </div>
            <div class="panel-body">
                <form name="actualizaConvenioForm" role="form" #actualizaConvenioForm="ngForm">

                    <div class="col-lg-12 m-t-md no-padding">
                        <ul class="nav nav-tabs nestedTabs" role="tablist">
                            <li class="nav-item nestedTab active">
                                <a class="nav-link active" id="datosConvenioTab" data-toggle="tab" href="#datosConvenio" role="tab">Convenio</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="datosGeneralesTab" data-toggle="tab" href="#datosGenerales" role="tab">Datos Generales</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="datosContactoTab" data-toggle="tab" href="#datosContacto" role="tab">Datos Contacto</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="estudiosTab" data-toggle="tab" href="#estudios" role="tab">Perfil</a>
                            </li>
                            <li class="nav-item nestedTab">
                                <a class="nav-link" id="cargosDestacadosTab" data-toggle="tab" href="#pagosRetenciones" role="tab">Pagos y Retenciones</a>
                            </li>

                        </ul>
                        <div class="tab-content nestedTabs">

                            <div class="tab-pane active" id="datosConvenio" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">
                                        <fieldset class="col-lg-12">
                                            <legend class="info">CONVENIO</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Estado:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="nombreEstado" id="estadoConvenio" name="estadoConvenio" class="heigth25 form-control col-lg-12"
                                                    [disabled]="true" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoConvenio" name="slcTipoConvenio" [(ngModel)]="convenio.TipoConvenio" #slcTipoConvenio="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoC of tipoConvenio" [value]="tipoC.Id">{{tipoC.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Emite Odas:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcEmiteOda" name="slcEmiteOda" [(ngModel)]="convenio.EmiteOda" #slcEmiteOda="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaConvenio" name="fechaConvenio" [(ngModel)]="convenio.FechaConvenio"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Cero Trámite:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcCeroTramites" name="slcCeroTramites" [(ngModel)]="convenio.PlanEspecial" #slcCeroTramites="ngModel"
                                                    (change)="changePlanEspecial();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Nivel Trámites:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.NivelEspecial" id="nivelEspecial" name="nivelEspecial" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.PlanEspecial || convenio.PlanEspecial.toString() == 'false'"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1" *ngIf="convenio.EstadoConvenio == 2">
                                                <label class="control-label ">Motivo Anulación:</label>
                                            </div>
                                            <div class="m-b col-lg-3" *ngIf="convenio.EstadoConvenio == 2">
                                                <input type="text" [(ngModel)]="descripcionAnulacion" id="descripcionAnulacion" name="descripcionAnulacion" class="heigth25 form-control col-lg-12"
                                                />
                                                <a (click)="abrirModalMotivos()">
                                                    <i class="fa fa-user-md"></i> {{descripcionAnulacion==undefined || descripcionAnulacion==null
                                                    || descripcionAnulacion==""? 'Seleccionar' : 'Cambiar'}}
                                                </a>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="masivos">Masivos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcMasivos" name="slcMasivos" [(ngModel)]="convenio.Masivos" #slcMasivos="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="esRecomendado">Es Recomend.:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcRecomendados" name="slcRecomendados" [(ngModel)]="convenio.EsRecomendado"
                                                    #slcRecomendados="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                                <div class="m-b col-lg-1">
                                                        <label class="control-label" for="agendarCitas">Agendar Citas:</label>
                                                    </div>
                                                    <div class="m-b col-lg-3">
                                                        <select class="form-select-control m-b" id="slcAgendarCitas" name="slcAgendarCitas" [(ngModel)]="convenio.AgendarCitas"
                                                            #slcAgendarCitas="ngModel">
                                                            <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                        </select>
                                                    </div>
                                                    <div class="m-b col-lg-1">
                                                        <label class="control-label" for="esRedPreferente">Red Preferente:</label>
                                                    </div>
                                                    <div class="m-b col-lg-3">
                                                        <select class="form-select-control m-b" id="slcEsRedPreferente" name="slcEsRedPreferente" [(ngModel)]="convenio.EsRedPreferente"
                                                            #slcAgendarCitas="ngModel">
                                                            <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                        </select>
                                                    </div>
                                        </fieldset>

                                    </div>
                                </div>
                            </div>









                            <div class="tab-pane" id="datosGenerales" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">
                                        <fieldset class="col-lg-12">
                                            <legend class="info">DATOS GENERALES</legend>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Número Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <span>{{convenio.NumeroConvenio}}</span>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Fecha Inicio Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaInicioConvenio" name="fechaInicioConvenio"
                                                    [(ngModel)]="convenio.FechaInicioConvenio" [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Fecha Fin Convenio:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaFinConvenio" name="fechaFinConvenio" [(ngModel)]="convenio.FechaFinConvenio"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Tipo Prestador:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <span>{{convenio.TipoPrestador}}</span>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Hospital Referencia:</label>
                                            </div>
                                            <div class="m-b col-lg-6">
                                                <input type="text" [(ngModel)]="convenio.HospitalReferencia" id="hospitalReferencia" name="hospitalReferencia" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Nivel desde:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.NivelPrestadorDesde" id="nivelPrestadorDesde" name="nivelPrestadorDesde" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Nivel hasta:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.NivelPrestadorHasta" id="nivelPrestadorHasta" name="nivelPrestadorHasta" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.PersonaNumero!=0">
                                                <label class="control-label">Persona Número:</label>
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.PersonaNumero!=0">
                                                <span>{{convenio.PersonaNumero}}</span>
                                            </div>

                                            <div class="m-b col-lg-2" *ngIf="convenio.EmpresaNumero!=0">
                                                <label class="control-label">Empresa Número:</label>
                                            </div>
                                            <div class="m-b col-lg-2" *ngIf="convenio.EmpresaNumero!=0">
                                                <span>{{convenio.EmpresaNumero}}</span>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-2">
                                                <label class="control-label" for="rucins">RUC:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.Rucins" id="rucins" name="rucins" class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <label class="control-label">Prestador:</label>
                                            </div>
                                            <div class="m-b col-lg-6">
                                                <span>{{convenio.NombrePrestador}}</span>
                                            </div>

                                        </fieldset>

                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="datosContacto" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">

                                        <fieldset class="col-lg-12">
                                            <legend class="info">DATOS DE CONTACTO</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Teléfono1:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.TelefConsultorio1" id="telefConsultorio1" name="telefConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Horario1:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.HorarioConsultorio1" id="horarioConsultorio1" name="horarioConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dirección1:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <input type="text" [(ngModel)]="convenio.DireccionConsultorio1" id="direccionConsultorio1" name="direccionConsultorio1" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>

                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Teléfono2:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="text" [(ngModel)]="convenio.TelefConsultorio2" id="telefConsultorio2" name="telefConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Horario2:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.HorarioConsultorio2" id="horarioConsultorio2" name="horarioConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dirección2:</label>
                                            </div>
                                            <div class="m-b col-lg-4">
                                                <input type="text" [(ngModel)]="convenio.DireccionConsultorio2" id="direccionConsultorio2" name="direccionConsultorio2" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Ciudad:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <select class="form-select-control m-b" id="slcciudades" name="slcciudades" [(ngModel)]="convenio.CodigoCiudad" #slcciudades="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let ciudad of ciudades" [value]="ciudad.CodigoProgress">{{ciudad.Valor}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Correo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.CorreoContacto" id="correoContacto" name="correoContacto" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Coordenadas:</label>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.Latitud" id="latitud" name="latitud" class="heigth25 form-control col-lg-12" placeholder="Latitud"/>
                                            </div>
                                            <div class="m-b col-lg-2">
                                                <input type="number" [(ngModel)]="convenio.Longitud" id="longitud" name="longitud" class="heigth25 form-control col-lg-12" placeholder="Longitud"/>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>


                            <div class="tab-pane" id="estudios" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">
                                        <fieldset class="col-lg-12">
                                            <legend class="info">ESTUDIOS</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo General:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloGeneral" id="tituloGeneral" name="tituloGeneral" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloGeneral" id="lugarTituloGeneral" name="lugarTituloGeneral" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloGeneral" name="fechaTituloGeneral" [(ngModel)]="convenio.FechaTituloGeneral"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Especialidad:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloEspecialidad" id="tituloEspecialidad" name="tituloEspecialidad" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloEspecialidad" id="lugarTituloEspecialidad" name="lugarTituloEspecialidad"
                                                    class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloEspecialidad" name="fechaTituloEspecialidad"
                                                    [(ngModel)]="convenio.FechaTituloEspecialidad" [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Subesp:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.TituloSubesp" id="tituloSubesp" name="tituloSubesp" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarTituloSubespe" id="lugarTituloSubespe" name="lugarTituloSubespe" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaTituloSubespe" name="fechaTituloSubespe" [(ngModel)]="convenio.FechaTituloSubespe"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Titulo Master:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Master" id="master" name="master" class="heigth25 form-control col-lg-12" />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Lugar:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.LugarMaster" id="lugarMaster" name="lugarMaster" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fecha:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaMaster" name="fechaMaster" [(ngModel)]="convenio.FechaMaster"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Especialidad:</label>
                                            </div>
                                            <div class="m-b col-lg-7">
                                                <input type="text" [(ngModel)]="convenio.ListaEspecialidades" id="listaEspecialidades" name="listaEspecialidades" class="heigth25 form-control col-lg-12"
                                                    [disabled]="true" />
                                                <a (click)="loadEspecialidades()">
                                                    <i class="fa fa-user-md"></i> {{convenio.ListaEspecialidades==undefined || convenio.ListaEspecialidades==null
                                                    || convenio.ListaEspecialidades==""? 'Seleccione' : 'Aumentar'}}
                                                </a>
                                            </div>
                                        </fieldset>






                                        <fieldset class="col-lg-12">
                                            <legend class="info">CARGOS DESTACADOS</legend>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoHospital">Hospital:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTrabajoHospital" name="slcTrabajoHospital" [(ngModel)]="convenio.TrabajoHospital"
                                                    #slcTrabajoHospital="ngModel" (change)="changeTrabajoHospita();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoHospital" id="tiempoHospital" name="tiempoHospital" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoHospital || convenio.TrabajoHospital.toString() == 'false'"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoClinica">Clínica:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTarbajoClinica" name="slcTarbajoClinica" [(ngModel)]="convenio.TrabajoClinica"
                                                    #slcTarbajoClinica="ngModel" (change)="changeTrabajoClinica();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoClinica" id="tiempoClinica" name="tiempoClinica" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoClinica || convenio.TrabajoClinica.toString()  == 'false'"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="trabajoConsultorio">Consultorio:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTarbajoConsultorio" name="slcTarbajoConsultorio" [(ngModel)]="convenio.TrabajoConsultorio"
                                                    #slcTarbajoConsultorio="ngModel" (change)="changeConsultorio();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tiempo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="number" [(ngModel)]="convenio.TiempoConsultorio" id="tiempoConsultorio" name="tiempoConsultorio" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.TrabajoConsultorio || convenio.TrabajoConsultorio.toString() == 'false'"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="sociedaC">Sociedad Científica:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcSociedad" name="slcSociedad" [(ngModel)]="convenio.SociedaC" #slcSociedad="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="investigacion">Investigacion:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcInvestigacion" name="slcInvestigacion" [(ngModel)]="investigacion" #slcInvestigacion="ngModel"
                                                    (change)="changeInvestigacion();">
                                                    <option [value]="1">No</option>
                                                    <option [value]="2">Si</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tema:</label>
                                            </div>
                                            <div class="m-b col-lg-7">
                                                <input type="text" [(ngModel)]="convenio.SobreQue" id="sobreQue" name="sobreQue" class="heigth25 form-control col-lg-12"
                                                    [disabled]="investigacion == 1" />
                                                <div class="" *ngIf="investigacion == 2 && convenio.SobreQue == ''">
                                                    <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">El Tema de la Investigacion no puede estar en blanco</label>
                                                </div>
                                                <div class="" *ngIf="investigacion == 2 && convenio.SobreQue == undefined">
                                                    <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">El Tema de la Investigacion no puede estar en blanco</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">


                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Fin Permiso:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaPermisoFin" name="fechaPermisoFin" [(ngModel)]="convenio.FechaPermisoFin"
                                                    [datepicker]="datepickerOpts"></datetime>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="staff">Staff Médicos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcStaff" name="slcStaff" [(ngModel)]="convenio.Staff" #slcStaff="ngModel" (change)="changeStaff();">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Receptor:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Receptor" id="receptor" name="receptor" class="heigth25 form-control col-lg-12"
                                                    [disabled]="!convenio.Staff || convenio.Staff.toString() == 'false'" />
                                            </div>
                                        </fieldset>







                                    </div>
                                </div>
                            </div>




                            <div class="tab-pane" id="pagosRetenciones" role="tabpanel">
                                <div class="panel panel-default">
                                    <div class="panel-body no-padding m-b-md">

                                        <fieldset class="col-lg-12">
                                            <legend class="info">PAGOS Y RETENCIONES</legend>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Pago inteligente:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcPagoInteligente" name="slcPagoInteligente" [(ngModel)]="pagoInteligente" #slcPagoInteligente="ngModel"
                                                    (change)="changePagoInteligente();">
                                                    <option *ngFor="let opcion of comboSiNoInt" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Bancos:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcbanco" name="slcbanco" [(ngModel)]="convenio.CodigoBanco" #slcbanco="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let banco of bancos" [value]="banco.CodigoBanco">{{banco.NombreBanco}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">No. Cuenta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.NumeroCuenta" id="numeroCuenta" name="numeroCuenta" class="heigth25 form-control col-lg-12"
                                                    [disabled]="pagoInteligente == 1" />

                                                <div class="" *ngIf="pagoInteligente == 2 && convenio.NumeroCuenta == undefined">
                                                    <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Debe ingresar un número de cuenta</label>
                                                </div>
                                                <div class="" *ngIf="pagoInteligente == 2 && convenio.NumeroCuenta == ''">
                                                    <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Debe ingresar un número de cuenta</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo cta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoCuenta" name="slcTipoCuenta" [(ngModel)]="convenio.TipoCuenta" #slcTipoCuenta="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoCta of tipoCuenta" [value]="tipoCta.Id">{{tipoCta.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo ID cta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcIdTipoCuenta" name="slcIdTipoCuenta" [(ngModel)]="convenio.TipoIdCuenta" #slcIdTipoCuenta="ngModel"
                                                    [disabled]="pagoInteligente == 1">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipo of tipoIdCuenta" [value]="tipo.Id">{{tipo.Nombre}}</option>
                                                </select>
                                            </div>

                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Id Cuenta:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.IdCuenta" id="idCuenta" name="idCuenta" class="heigth25 form-control col-lg-12"
                                                    [disabled]="pagoInteligente == 1" />
                                            </div>

                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Contacto:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.Contacto" id="contacto" name="contacto" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1 ">
                                                <label class="control-label">Actividad Económica:</label>
                                            </div>
                                            <div class="m-b col-lg-7 ">
                                                <input type="text" [(ngModel)]="convenio.ActividadEconomica" id="actividadEconomica" name="actividadEconomica" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Dsct %:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.DsctoTotalPctje" id="dsctoTotalPctje" name="dsctoTotalPctje" class="heigth25 form-control col-lg-12"
                                                />
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="dsctoProntoPago">Dsct Pago:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcDsctoProntoPago" name="slcDsctoProntoPago" [(ngModel)]="convenio.DsctoProntoPago"
                                                    #slcDsctoProntoPago="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label" for="dsctoRubrosFijos">Dsct Fijo:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcDsctoRubrosFijos" name="slcDsctoRubrosFijos" [(ngModel)]="convenio.DsctoRubrosFijos"
                                                    #slcDsctoRubrosFijos="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Tipo Identifiación:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <select class="form-select-control m-b" id="slcTipoIdentificaion" name="slcTipoIdentificaion" [(ngModel)]="convenio.TipoIdentificacion"
                                                    #slcTipoIdentificaion="ngModel">
                                                    <option [ngValue]="null" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoIde of tiposIdentificacion" [value]="tipoIde.Id">{{tipoIde.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1 ">
                                                <label class="control-label">Tipo Contrib:</label>
                                            </div>
                                            <div class="m-b col-lg-3 ">
                                                <select class="form-select-control m-b" id="slcTipoContribuyente" name="slcTipoContribuyente" [(ngModel)]="convenio.TipoContribuyente"
                                                    #slcTipoContribuyente="ngModel" (change)="changeTipoContribuyente();">
                                                    <option [ngValue]="0" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoContrib of tipoContribuyente" [value]="tipoContrib.Id">{{tipoContrib.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1 ">
                                                <label class="control-label ">Contrib Especial:</label>
                                            </div>
                                            <div class="m-b col-lg-3 ">
                                                <select class="form-select-control m-b" id="slcContribEspecial" name="slcContribEspecial" [(ngModel)]="convenio.ContribuyenteEspecial"
                                                    #slcContribEspecial="ngModel" (change)="changeTipoContribuyente();">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let tipoCE of tipoContribEspecial" [value]="tipoCE.Id">{{tipoCE.Nombre}}</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1 ">
                                                <label class="control-label">Retención:</label>
                                            </div>
                                            <div class="m-b col-lg-3 ">
                                                <select class="form-select-control m-b" id="slcRetencion" name="slcRetencion" [(ngModel)]="retencion" #slcRetencion="ngModel"
                                                    [disabled]="true">
                                                    <option [value]="1">No</option>
                                                    <option [value]="2">Si</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Estado:</label>
                                            </div>
                                            <div class="m-b col-lg-3 ">
                                                <select class="form-select-control m-b" id="slcTipoEstado" name="slcTipoEstado" [(ngModel)]="convenio.SujetoEstado" #slcTipoEstado="ngModel">
                                                    <option [ngValue]="undefined" selected>Seleccione...</option>
                                                    <option *ngFor="let sujetoEstado of tiposEstado" [value]="sujetoEstado.Id">{{sujetoEstado.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Suspension:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaSuspension" name="fechaSuspension" [(ngModel)]="convenio.FechaSuspension"
                                                    [datepicker]="datepickerOpts"></datetime>

                                                <div class="" *ngIf="convenio.SujetoEstado == 3 && convenio.FechaSuspension == undefined">
                                                    <label class="col-md-12 no-padding " style="color: #ff0000;font-weight: normal;font-size: smaller;">Fecha de Suspensión Obligatoria</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset class="col-lg-12">
                                            <div class="m-b col-lg-1">
                                                <label class="control-label ">Obligado Cont:</label>
                                            </div>
                                            <div class="m-b col-lg-3 ">
                                                <select class="form-select-control m-b" id="slcObligadoContabilidad" name="slcObligadoContabilidad" [(ngModel)]="convenio.ObligadoContabilidad"
                                                    #slcObligadoContabilidad="ngModel">
                                                    <option *ngFor="let opcion of comboSiNo" [value]="opcion.Id">{{opcion.Nombre}}</option>
                                                </select>
                                            </div>
                                            <div class="m-b col-lg-1">
                                                <label class="control-label">Email Notificación:</label>
                                            </div>
                                            <div class="m-b col-lg-3">
                                                <input type="text" [(ngModel)]="convenio.CorreoElectronicoNotificacion" id="correoElectronicoNotificacion" name="correoElectronicoNotificacion"
                                                    class="heigth25 form-control col-lg-12" />
                                            </div>
                                        </fieldset>


                                        <div class="col-lg-12">
                                            <button class="btn btn-w-m btn-success btn-sm" (click)="actualizarConvenio();">
                                                <i class="fa fa-save"></i>Actualizar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>




                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!-- Modal de Detalles -->
<div class="modal inmodal fade" id="myModalEspecialidades" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-dialog modal-lg">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h5 class="panel-title">Detalles de la Solicitud</h5>
                </div>
                <div class="panel-body">

                    <div class="col-lg-6  m-b">
                        <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                            <table id="tablaConsultores" class="table table-striped table-bordered table-hover dataTable">
                                <thead>
                                    <tr>
                                        <th class="centerMiddle">Codigo</th>
                                        <th class="centerMiddle">Especialidad</th>


                                    </tr>
                                </thead>
                                <tbody id="bodyEspeci" class="no-borders selectableBodyTable">
                                    <tr id="listaEspe{{i}}" [class.active]="especialidad.Selected" title="{{!especialidad.Selected ? 'Click para añadir' : 'Click para quitar'}}"
                                        (click)="seleccionarEspecialidad(especialidad);" *ngFor="let especialidad of listaEspe; let i = index">
                                        <td class="centerMiddle">{{especialidad.CodigoProgress}}</td>
                                        <td class="centerMiddle">{{especialidad.Valor}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-lg-6  m-b">
                        <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                            <table id="tablaConsultores" class="table table-striped table-bordered table-hover dataTable">
                                <thead>
                                    <tr>
                                        <th class="centerMiddle">Codigo</th>
                                        <th class="centerMiddle">SubEspecialida</th>
                                    </tr>
                                </thead>
                                <tbody id="bodyEspeci" class="no-borders selectableBodyTable">
                                    <tr id="listaSubEspe{{i}}" [class.active]="subEspecialidad.Selected" title="{{!subEspecialidad.Selected ? 'Click para seleccionar' : 'Click para quitar'}}"
                                        (click)="seleccionarSubEspecialidad(subEspecialidad)" *ngFor="let subEspecialidad of listaSubEspe; let i = index">
                                        <td class="centerMiddle">{{subEspecialidad.CodigoProgress}}</td>
                                        <td class="centerMiddle">{{subEspecialidad.Valor}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-lg-12 ">
                        <button class="btn btn-w-m btn-success btn-sm" (click)="guardarListaEspecialidades();">
                            <i class="fa fa-sign-out"></i>Ok</button>

                        <button class="btn btn-w-m btn-success btn-sm" (click)="salirEspecialidades();">
                            <i class="fa fa-sign-out"></i>Cancelar</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal de Motivos de Anulación -->
<div id="consultorModalDiv">
    <div class="modal inmodal fade" id="motivosAnulacionViewModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="col-lg-12 m-t-sm no-padding">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h5 class="panel-title">Listado de Motivos de Anulación</h5>
                        </div>
                        <div class="panel-body panelDatos">
                            <div class="table-responsive" style="overflow-y: auto;max-height: 350px;">
                                <table id="tablaMotivos" class="table table-striped table-bordered table-hover dataTable">
                                    <thead>
                                        <tr>
                                            <th class="centerMiddle">Código</th>
                                            <th class="centerMiddle">Motivo
                                                <input type="text" (input)="filtrarMotivos($event.target.value)" placeholder="Buscar..." id="buscarMotivo" name="buscarMotivo"
                                                    class="form-control heigth25">
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="bodyMotivo" class="no-borders selectableBodyTable">
                                        <tr id="motivo{{i}}" [class.active]="motivo.Selected" title="{{!motivo.Selected ? 'Click para seleccionar' : ''}}" (click)="!motivo.Selected ? seleccionarMotivo(motivo) : return;"
                                            *ngFor="let motivo of motivosAnulacion; let i = index">
                                            <td class="centerMiddle">{{motivo.Codigo}}</td>
                                            <td class="centerMiddle">{{motivo.Descripcion}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>