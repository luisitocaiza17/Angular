<div class="row wrapper white-bg page-heading border-bottom">
    <div class="col-lg-12">
        <h2>Forma Pago</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a [routerLink]="['']">Home</a>
            </li>
            <li class="breadcrumb-item">Retención</li>
            <li class="breadcrumb-item">
                <a [routerLink]="['/retencion/descuento/list']">Identifica a tu cliente</a>
            </li>
            <li class="breadcrumb-item active">Forma Pago</li>
        </ol>
    </div>
</div>
<div class="wrapper wrapper-content">
    <div class="row" *ngIf="retencion">
        <div id="contenido" class="col-xs-12 col-md-8 col-lg-11">
            <div class="panel panel-default panel-body">
                <div class="row-flex" style="margin-right: -15px;">
                    <div class="col-md-6">
                        <label class="text-muted">Nombres y apellidos</label>
                        <br>
                        <span class="text-bold">{{ retencion ? retencion.NombrePersona : '' }}</span>
                    </div>
                    <div class="col-md-4">
                        <label class="text-muted">Contrato</label>
                        <br>
                        <b class="text-bold">{{ retencion.NumeroContrato }}</b>
                    </div>
                    <div class="col-md-2 retention-blue text-center" style="margin-top: -15px; margin-bottom: -15px;">
                        <h3 class="no-margin">{{ retencion.categoriaCliente }}</h3>
                        <hr class="no-margin">
                        <small class="text-small" style="text-align: center;">SEGMENTO</small>
                    </div>
                </div>
            </div>
            <div class="panel panel-default panel-body" *ngIf="retencion">
                <div class="row" class="flex-row">
                    <div class="col-md-12">
                        <div class="row m-b">
                            <div class="col-md-4">
                                <label class="text-primary">Región</label>
                                <br>
                                <span class="form-control">{{ retencion.CodigoRegion }}</span>
                            </div>
                            <div class="col-md-4">
                                <label class="text-primary">Fecha de fin de vigencia</label>
                                <br>
                                <span class="form-control">{{ retencion.FechaFin }}</span>
                            </div>
                            <div class="col-md-4">
                                <label class="text-primary">Código producto</label>
                                <br>
                                <span class="form-control">{{ retencion.CodigoPlan }}</span>
                            </div>
                        </div>
                        <div class="row m-b">
                            <div class="col-md-4">
                                <label class="text-primary">Nombre del producto</label>
                                <br>
                                <span class="form-control">{{ retencion.NombrePlan }}</span>
                            </div>
                            <div class="col-md-4">
                                <label class="text-primary">Nivel</label>
                                <br>
                                <span class="form-control">{{ retencion.Nivel }}</span>
                            </div>
                            <div class="col-md-4">
                                <label class="text-primary">Siniestralidad acumulada</label>
                                <br>
                                <span class="form-control">{{ retencion.SiniestralidadNumber * 100 | number: '1.2-2'
                                    }}%</span>
                            </div>
                        </div>
                        <div class="row m-b">
                            <div class="col-md-4">
                                <label class="text-primary">Estado de cobranza</label>
                                <br>
                                <span class="form-control">{{ retencion.EsMoroso ? "Moroso" : "Activo" }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <h2 class="text-primary">Forma de Pago Actual</h2>

            <div class="panel panel-default panel-body">
                <div class="row" class="flex-row">
                    <div class="col-md-12">
                        <div class="row m-b">
                            <fieldset class="col-lg-12">
                                <legend class="info">DATOS DE PAGO</legend>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Forma de Pago:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" *ngIf="DatosContrato.FormaPago == 1" class="heigth25  col-lg-12">Débito</span>
                                    <span type="text" *ngIf="DatosContrato.FormaPago == 2 " class="heigth25  col-lg-12">Pago
                                        Directo</span>
                                </div>
                                <div class="m-b col-lg-2">
                                    <label class="control-label">Periodo del Pago:</label>
                                </div>

                                <div class="m-b col-lg-4">
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 1" class="heigth25  col-lg-12">Mensual</span>
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 2" class="heigth25  col-lg-12">Bimestral</span>
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 3" class="heigth25  col-lg-12">Trimestral</span>
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 4" class="heigth25  col-lg-12">Semestral</span>
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 5" class="heigth25  col-lg-12">Anual</span>
                                    <span type="text" *ngIf="DatosContrato.PeriodoPago == 6" class="heigth25  col-lg-12">Cuatrimestral</span>
                                </div>
                            </fieldset>

                            <fieldset class="col-lg-12">
                                <legend class="info">DATOS DEL BANCO Y CUENTA</legend>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Código Banco:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.CodigoBanco}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Banco:</label>
                                </div>

                                <div class="m-b col-lg-4">
                                    <b *ngFor="let banco of bancos">
                                        <span type="text" *ngIf="banco.CodigoBanco == DatosContrato.CodigoBanco" class="heigth25  col-lg-12">{{banco.NombreBanco}}</span>
                                    </b>
                                </div>
                            </fieldset>

                            <fieldset class="col-lg-12">

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Tipo de
                                        Cuenta:</label>
                                </div>

                                <div class="m-b col-lg-4">

                                    <span type="text" *ngIf="DatosContrato.TipoCuenta == 1" class="heigth25  col-lg-12">Cuenta
                                        Corriente</span>
                                    <span type="text" *ngIf="DatosContrato.TipoCuenta == 2" class="heigth25  col-lg-12">Cuenta
                                        Ahorro</span>
                                    <span type="text" *ngIf="DatosContrato.TipoCuenta == 3" class="heigth25  col-lg-12">Tarjeta</span>
                                    <span type="text" *ngIf="DatosContrato.TipoCuenta == 4" class="heigth25  col-lg-12">Pago
                                        Directo</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Número de
                                        Cuenta:</label>
                                </div>
                                <div class="m-b col-lg-4">

                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.NumeroCuenta}}</span>

                                </div>
                            </fieldset>

                            <fieldset class="col-lg-12">
                                <legend class="info">DATOS DEL CLIENTE</legend>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">R.U.C:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.FacturarRuc}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Pasaporte:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.FacturarPasaporte}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Cédula:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.FacturarCedula}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Nombre
                                        Completo:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{DatosContrato.NombreDuenioCuenta}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left clearInfo">Fecha
                                        Cad Tarjeta:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{fechaFinTarjeta | date :
                                        "dd/MM/y"}}</span>
                                </div>
                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Descuento:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    {{DatosContrato.PorcentajeDescuento + ' %'}}
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="text-primary">Forma de Pago Nueva</h2>

            <div class="panel panel-default panel-body" *ngIf="retencion">
                <div class="row" class="flex-row">
                    <div class="col-md-12">
                        <div class="row m-b">
                            <form (ngSubmit)="guardarFormaPago();" name="formaPagoForm" role="form" #formaPagoForm="ngForm">
                                <fieldset class="col-lg-12">
                                    <legend class="info">DATOS DE PAGO</legend>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left" for="slcformaPago">Forma de Pago:</label>
                                    </div>

                                    <div class="m-b col-lg-4">
                                        <select required class="form-select-control" [(ngModel)]="_contratoKey.FormaPago"
                                            id="slcformaPago" name="slcformaPago" (change)="changeFormaPago()"
                                            #slcformaPago="ngModel" [disabled]="habilitar">
                                            <option [ngValue]="undefined" selected>Seleccione...</option>
                                            <option [ngValue]="1">Débito</option>
                                            <option [ngValue]="2">Pago Directo</option>
                                        </select>
                                        <div [hidden]="slcformaPago.valid" class="error">
                                            <p *ngIf="slcformaPago.errors?.required">Campo requerido</p>
                                        </div>
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label" for="slcPeriodoPago">Periodo del Pago:</label>
                                    </div>

                                    <div class="m-b col-lg-4">
                                        <select required class="form-select-control" [(ngModel)]="_contratoKey.PeriodoPago"
                                            id="slcPeriodoPago" name="slcPeriodoPago" [disabled]="habilitar"
                                            #slcPeriodoPago="ngModel" (change)="changePeriodoPago()">
                                            <option [ngValue]="undefined" selected>Seleccione...</option>
                                            <option [ngValue]="1">Mensual</option>
                                            <option [ngValue]="2">Bimestral</option>
                                            <option [ngValue]="3">Trimestral</option>
                                            <option [ngValue]="4">Semestral</option>
                                            <option [ngValue]="5">Anual</option>
                                            <option [ngValue]="6">Cuatrimestral</option>
                                        </select>
                                        <div [hidden]="slcPeriodoPago.valid" class="error">
                                            <p *ngIf="slcPeriodoPago.errors?.required">Campo requerido</p>
                                        </div>
                                    </div>

                                </fieldset>

                                <fieldset class="col-lg-12">
                                    <legend class="info">DATOS DEL BANCO Y CUENTA</legend>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left" for="codigoBanco">Código Banco:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.CodigoBanco" id="codigoBanco" name="codigoBanco"
                                            class="heigth25 form-control col-lg-12" [disabled]="true" />
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-rigth" for="slcBanco">Banco:</label>
                                    </div>

                                    <div class="m-b col-lg-4">
                                        <select required class="form-select-control" [(ngModel)]="_contratoKey.CodigoBanco"
                                            id="slcBanco" name="slcBanco" [disabled]="habilitar" #slcBanco="ngModel">
                                            <option [ngValue]="undefined" selected>Seleccione...</option>
                                            <option *ngFor="let banco of bancos" [ngValue]="banco.CodigoBanco">{{banco.NombreBanco}}</option>
                                        </select>
                                        <div [hidden]="slcBanco.valid" class="error">
                                            <p *ngIf="slcBanco.errors?.required">Campo requerido</p>
                                        </div>
                                    </div>
                                </fieldset>

                                <fieldset class="col-lg-12">

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left" for="slcTipoCuenta">Tipo de
                                            Cuenta:</label>
                                    </div>

                                    <div class="m-b col-lg-4">
                                        <select required class="form-select-control" [(ngModel)]="_contratoKey.TipoCuenta"
                                            id="slcTipoCuenta" name="slcTipoCuenta" [disabled]="habilitar"
                                            #slcTipoCuenta="ngModel" (change)="changeTipoCuenta()">
                                            <option [ngValue]="undefined" selected>Seleccione...</option>
                                            <option [ngValue]="1">Cuenta Corriente</option>
                                            <option [ngValue]="2">Cuenta Ahorro</option>
                                            <option [ngValue]="3">Tarjeta</option>
                                            <option [ngValue]="4">Pago Directo</option>
                                        </select>
                                        <div [hidden]="slcTipoCuenta.valid" class="error">
                                            <p *ngIf="slcTipoCuenta.errors?.required">Campo requerido</p>
                                        </div>
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-rigth" for="numeroCuenta">Número de
                                            Cuenta:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.NumeroCuenta" id="numeroCuenta"
                                            name="numeroCuenta" class="heigth25 form-control col-lg-12" [disabled]="habilitar" />
                                    </div>
                                </fieldset>

                                <fieldset class="col-lg-12">
                                    <legend class="info">DATOS DEL CLIENTE</legend>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left" for="txtRuc">R.U.C:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.FacturarRuc" id="txtRuc" name="txtRuc"
                                            class="heigth25 form-control" [disabled]="habilitar" />
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-rigth" for="txtPasaporte">Pasaporte:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.FacturarPasaporte" id="txtPasaporte"
                                            name="txtPasaporte" class="heigth25 form-control" [disabled]="habilitar" />
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left" for="txtCedula">Cédula:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.FacturarCedula" id="txtCedula"
                                            name="txtCedula" class="heigth25 form-control" [disabled]="habilitar" />
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-rigth" for="txtNombreApellido">Nombre
                                            Completo:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <input type="text" [(ngModel)]="_contratoKey.NombreDuenioCuenta" id="txtNombreApellido"
                                            name="txtNombreApellido" class="heigth25 form-control" [disabled]="habilitar" />
                                    </div>

                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-left clearInfo" for="txtExpiracion">Fecha
                                            Cad Tarjeta:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        <datetime class="heigth25 col-lg-12 no-padding" [timepicker]="false" id="fechaFinTarjeta"
                                            [(ngModel)]="fechaFinTarjeta" [ngModelOptions]="{standalone: true}"
                                            [datepicker]="datepickerOpts" *ngIf="desabilitar==true;"></datetime>
                                    </div>
                                    <div class="m-b col-lg-2">
                                        <label class="control-label no-padding-rigth" for="txtDescuento">Descuento:</label>
                                    </div>
                                    <div class="m-b col-lg-4">
                                        {{this._contratoKey.PorcentajeDescuento + ' %'}}
                                    </div>
                                </fieldset>

                                <div class="col-lg-6 m-t-md no-padding">
                                    <button class="btn btn-w-m btn-success btn-sm" type="submit" [disabled]="!formaPagoForm.valid || guardar || habilitar "
                                        data-toggle="modal" data-target="#cuentaShowModal">
                                        <i class="fa fa-save"></i>Guardar</button>
                                </div>

                                <div class="modal inmodal fade" id="cuentaShowModal" tabindex="-1" role="dialog"
                                    aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="col-lg-12 m-t-sm no-padding">
                                            <div class="panel panel-success">
                                                <div class="panel-heading">
                                                    <h5 class="panel-title">CUOTAS AFECTAR</h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="divResultadoBusquedaContratos" class="ibox-content" style="border-width:1px 0px 0px 0px;">
                                            <div class="dataTables_info">{{detalleRemesaService.paginationConstants.EncabezadoTabla}}</div>
                                            <div class="table-responsive">
                                                <table class="table table-striped table-bordered table-hover dataTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Región</th>
                                                            <th>Producto</th>
                                                            <th>Contrato</th>
                                                            <th>Cuota</th>
                                                            <th>Cuenta</th>
                                                            <th>Fecha Fin Tarjeta</th>
                                                            <th>Valor Cuota</th>
                                                            <th>Valor Remitido</th>
                                                            <th>Valor Seguro Campesino</th>
                                                            <th>Estado</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="no-borders" *ngFor="let contrato of cuotas | paginate: {id : 'contratosTable', itemsPerPage: detalleRemesaService.paginationConstants.pageSize,currentPage: detalleRemesaService.paginationConstants.pageNumber, totalItems: detalleRemesaService.paginationConstants.total};">
                                                        <tr>
                                                            <td>{{contrato.Region}}</td>
                                                            <td>{{contrato.CodigoProducto}}</td>
                                                            <td>{{contrato.ContratoNumero}}</td>
                                                            <td>{{contrato.NumeroCuota}}</td>
                                                            <td>{{contrato.NumeroCuenta}}</td>
                                                            <td>{{contrato.FechaFinTarjeta | date: 'dd/MM/yyyy' }}</td>
                                                            <td>{{contrato.ValorCuota}}</td>
                                                            <td>{{contrato.ValorRemitido}}</td>
                                                            <td>{{contrato.ValorSeguroCampesino}}</td>
                                                            <td>{{contrato.EstatusDetalleRemesa}}</td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot *ngIf="detalleRemesaService.paginationConstants.total == 0">
                                                        <tr>
                                                            <td colspan="11" style="text-align: center;">No existen
                                                                resultados</td>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <pagination-controls id="contratosTable" maxSize="4" previousLabel=""
                                                nextLabel="" autoHide="true" (pageChange)="detalleRemesaService.paginationConstants.pageNumber=$event;pageChanged();"></pagination-controls>

                                            <button class="btn btn-w-m btn-success btn-sm" type="button" (click)="ActualizarCuotas();"
                                                data-dismiss="modal">Aceptar</button>

                                            <button class="btn btn-w-m btn-success btn-sm" type="button" data-dismiss="modal"
                                                (click)="Mensaje();">
                                                Cancelar
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>

            <h2 class="text-primary">Valor Total</h2>

            <div class="panel panel-default panel-body">
                <div class="row" class="flex-row" *ngIf="retencion">
                    <div class="col-md-12">
                        <div class="row m-b">

                            <fieldset class="col-lg-12">
                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Valor Actual:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{getTotalMedicinaPrepagadaAnterior()|number : '1.2-2'}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Valor Servicios:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{this.valorServicio |  number : '1.2-2'}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-rigth">Facturado Hasta:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth25  col-lg-12">{{_contratoKey.FechaHasta | date:
                                        'dd/MM/yyyy'}}</span>
                                </div>

                                <div class="m-b col-lg-2">
                                    <label class="control-label no-padding-left">Descuento por forma de Pago:</label>
                                </div>
                                <div class="m-b col-lg-2">
                                    <span type="text" class="heigth25  col-lg-5">{{this._contratoKey.PorcentajeDescuento
                                        + ' %'}}</span>
                                    <span type="text" class="heigth25  col-lg-1">{{this.valorPagoDescuento|currency:'USD':true:'1.2-2'}}</span>
                                </div>

                                <div class="m-b col-lg-5">
                                    <label class="control-label no-padding-rigth">Valor con descuento por forma de
                                        pago:</label>
                                </div>
                                <div class="m-b col-lg-4">
                                    <span type="text" class="heigth50  col-lg-2">{{this.valorPago|currency:'USD':true:'1.2-2'}}</span>
                                </div>
                            </fieldset>

                        </div>
                    </div>
                </div>
            </div>
            <div class="ibox-content m-b">
                <div class="row">
                    <div class="col-md-1"></div>
                    <div class="col-md-5">
                        <table class="table table-striped table-bordered table-hover dataTable colors discount">
                            <thead>
                                <tr>
                                    <th colspan="2">
                                        <h3>Detalle última factura</h3>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Medicina prepagada</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalMedicinaPrepagadaAnterior() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Servicios adicionales</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalServiciosAdicionales() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 1</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal1(null) | number:'1.2-2'}}" disabled>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Descuento</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalValorDescuento() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 2</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal2() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Gasto administrativo</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getGastoAdministrativo() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 3</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal3() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>SSC ({{parametroSSC}})</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSSC() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Total</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{ (getSubTotal3() + getSSC())  | number:'1.2-2'}}">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-5">
                        <table class="table table-striped table-bordered table-hover dataTable colors discount">
                            <thead>
                                <tr>
                                    <th colspan="2">
                                        <h3>Detalle de nueva factura</h3>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Medicina prepagada</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalMedicinaPrepagada() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Servicios adicionales</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalServiciosAdicionales() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 1</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal1Nuevo() | number:'1.2-2'}}" disabled>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Descuento</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getTotalValorDescuentoNuevaFactura() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 2</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal2ConDescuentoNuevaFactura() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Gasto administrativo</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getGastoAdministrativo() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Subtotal 3</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSubTotal3ConDescuento() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>SSC ({{parametroSSC}})</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{getSSCConDescuento() | number:'1.2-2'}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Total</td>
                                    <td>
                                        <input type="text" class="text-right form-control" disabled value="{{ (getSubTotal3ConDescuento() + getSSCConDescuento())  | number:'1.2-2'}}">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>

        </div>
        <div id="sub-menu" class="col-xs-12 col-md-4 col-lg-1 no-padding">
            <h4>Modificar Contrato</h4>
            <hr class="no-margin" style="border-color: black; border-width: 1px;">
            <ul class="no-padding">
                <li class="btn col-md-12" [routerLink]="['/retencion/show', _contratoKey.CodigoRegion, _contratoKey.CodigoProducto, _contratoKey.NumeroContrato]"
                    style="text-align: left;">
                    <i class="fa fa-circle-o"></i>
                    <span class="text-primary">Regresar</span>
                </li>
            </ul>
        </div>
    </div>
</div>