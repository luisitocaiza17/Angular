<div class="row wrapper white-bg page-heading border-bottom">
    <div class="col-lg-12">
        <h2>Retención</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a [routerLink]="['']">Home</a>
            </li>
            <li class="breadcrumb-item">Retención</li>
            <li class="breadcrumb-item active">Parametros Retenci&oacute;n</li>
        </ol>
    </div>
</div>

<div class="wrapper wrapper-content">
    <div class="panel-group" id="accordion">
        <div class="panel panel-default panel-body no-padding">
            <div class="panel-heading">
                <h5 class="panel-title">
                    Parametros de Retenci&oacute;n
                </h5>
            </div>
            <div class="ibox-content m-b">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <table class="table table-striped table-bordered table-hover dataTable colors ">
                            <thead>
                                <tr>
                                    <th style="vertical-align: middle; text-align: center; color: #FFFFFF; background-color: #005BBB;">
                                        Rango aprobaci&oacute;n
                                    </th>  
                                    <th style="vertical-align: middle; text-align: center; color: #FFFFFF; background-color: #005BBB;">
                                        Nombre
                                    </th>  
                                    <th style="vertical-align: middle; text-align: center; color: #FFFFFF; background-color: #005BBB;">
                                        Valor
                                    </th>  
                                    <th style="vertical-align: middle; text-align: center; color: #FFFFFF; background-color: #005BBB;">
                                        <button class="btn btn-xs" title="Nuevo"
                                            (click)="crearParamaetro()">
                                            <i class="fa fa-edit"></i>
                                        </button> 
                                    </th>                                    
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let parametro of parametros" class="text-center" style="vertical-align: middle;">
                                    <td  class="col-xs-1">
                                        <input type="checkbox" [checked]="parametro.RangoAprobacion" title="Es Rango aprobación"
                                            (change)="changeCheckRangoAprobbacion(parametro)" />
                                    </td>
                                    <td  class="col-xs-5">
                                        <input *ngIf="!parametro.RangoAprobacion" type="text" class="form-control" 
                                            placeholder="Nombre del parámetro"
                                            [(ngModel)]="parametro.Nombre" maxlength="50" />
                                        <select [(ngModel)]="parametro.Nombre" class="form-control" 
                                            *ngIf="parametro.RangoAprobacion">
                                            <option [ngValue]="undefined" disabled  selected>Seleccione un rol...</option>
                                            <option *ngFor="let rol of roles" [value]="rol.NombreRol">
                                                {{rol.NombreRol}}
                                            </option>
                                        </select>
                                    </td>
                                    <td class="col-xs-5">
                                        <input type="text" class="form-control" placeholder="{{ !parametro.RangoAprobacion ? 'Valor del parámetro' : 'Porcentaje Máximo Aprobación (99.99)' }}"
                                            [(ngModel)]="parametro.Valor" maxlength="50" />
                                    </td>
                                    <td class="col-xs-1"> 
                                        <button class="btn btn-xs" title="Guardar"
                                            [disabled]="!parametro.Valor && !parametro.Nombre"
                                            (click)="procesarParametro(parametro)">
                                            <i class="fa fa-save"></i>
                                        </button> 
                                        <button class="btn btn-xs" title="Eliminar"
                                            (click)="eliminarParametro(parametro)">
                                            <i class="fa fa-close"></i>
                                        </button>                                            
                                    </td>
                                </tr>                                
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>

        </div>

    </div>
</div>